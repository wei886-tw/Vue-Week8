import{P as y}from"./PageFooter-D_6hdQd6.js";import{N as x}from"./NavBar-D6akxqN6.js";import{P as C}from"./PageNation-xxMvww-I.js";import{_ as u,o as r,c,a as t,m as k,t as w,b as m,F as h,d as _,e as I,f as a,g as F,r as p,w as M}from"./index-CM7vr6tA.js";const N={data(){return{allItem:[],filterItem:[],api:"https://vue3-course-api.hexschool.io",api_path:"wei123"}},methods:{filter(s){s==="所有產品"?this.filterItem=this.allItem.map(e=>e):this.filterItem=this.allItem.filter(e=>e.category===s),this.$emit("emitFilterItem",this.filterItem)},getAllProducts(){this.$http.get(`${this.api}/api/${this.api_path}/products/all`).then(s=>{this.allItem=s.data.products}).catch(s=>{alert(s.response.message)})}},mounted(){this.getAllProducts()}},j={class:"container"},$={class:"d-flex justify-content-center"};function B(s,e,g,f,o,i){return r(),c("div",j,[t("div",$,[t("div",k({class:"btn-group mb-32"},w(i.filter,!0)),[t("a",{href:"#",class:"btn btn-secondary active btn-lg","aria-current":"page",onClick:e[0]||(e[0]=l=>i.filter("所有產品"))},"所有產品"),t("a",{href:"#",class:"btn btn-footer btn-lg",onClick:e[1]||(e[1]=l=>i.filter("書籍"))},"書籍"),t("a",{href:"#",class:"btn btn-footer btn-lg",onClick:e[2]||(e[2]=l=>i.filter("飲料"))},"飲料"),t("a",{href:"#",class:"btn btn-footer btn-lg",onClick:e[3]||(e[3]=l=>i.filter("甜點"))},"甜點")],16)])])}const T=u(N,[["render",B]]),U={components:{PageFooter:y,NavBar:x,PageNation:C,FilterComponents:T},data(){return{userProducts:[],api:"https://vue3-course-api.hexschool.io",api_path:"wei123",myModal:null,tempProduct:{},pagination:{},filterItem:[]}},methods:{getFilterItem(s){this.userProducts=s},getProducts(s){this.$http.get(`${this.api}/api/${this.api_path}/products?page=${s}`).then(e=>{this.userProducts=e.data.products,this.pagination=e.data.pagination})},addToCart(s){this.$http.post(`${this.api}/v2/api/${this.api_path}/cart`,{data:{product_id:s,qty:1}}).then(()=>{alert("成功加入購物車")}).catch(e=>{console.log(e)})},openModal(){this.myModal.show()}},mounted(){this.getProducts(),this.myModal=new bootstrap.Modal("#myModal")}},V={class:"container-fluid py-48 bg-footer"},E={class:"container pt-60"},A={class:"row"},q=["onClick"],D={class:"card mb-24 py-16 px-16",style:{width:"18rem",height:"30rem"}},H=["src"],L={class:"card-body d-flex flex-column justify-content-between"},S={class:"card-title"},z={class:"card-text"},G={class:"container px-0"},J=["onClick"],K={class:"container pt-32"},O={class:"container"},Q={class:"row"},R={class:"col-md-6"},W={class:"modal",tabindex:"-1",ref:"myModal",id:"myModal"},X={class:"modal-dialog modal-dialog-centered modal-dialog-scrollable"},Y={class:"modal-content"},Z=t("div",{class:"container"},null,-1),tt={key:0},et={class:"card"},st=["src"],ot={class:"card-body"},it={class:"card-title"},nt={class:"badge bg-footer ms-2 text-white"},at={class:"card-text mb-4"},rt={class:"card-text mb-4"},ct={class:"container px-0"},lt={class:"container d-flex justify-content-between px-0"},dt=t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),mt=["src"],pt={class:"container-fluid px-0"};function ht(s,e,g,f,o,i){const l=p("nav-bar"),b=p("filter-components"),v=p("PageNation"),P=p("PageFooter");return r(),c(h,null,[m(l),t("div",V,[t("div",E,[m(b,{onEmitFilterItem:i.getFilterItem},null,8,["onEmitFilterItem"]),t("div",A,[(r(!0),c(h,null,_(o.userProducts,n=>(r(),c("div",{class:"col-12 col-md-6 col-lg-4 col-xl-3 d-flex justify-content-center",key:n.id,onClick:d=>o.tempProduct=n},[t("div",D,[t("img",{src:n.imageUrl,class:"card-img-top",alt:"商品圖片",style:{height:"80%",width:"100%","object-fit":"cover"}},null,8,H),t("div",L,[t("h5",S,"產品名稱："+a(n.title),1),t("p",z,"特價："+a(n.price)+" 元",1),t("div",G,[t("button",{class:"btn btn-sm border border-2 me-12",onClick:M(d=>i.addToCart(n.id),["prevent"])}," 加入購物車 ",8,J),t("button",{class:"btn btn-sm border border-2",onClick:e[0]||(e[0]=(...d)=>i.openModal&&i.openModal(...d))}," 詳細資訊 ")])])])],8,q))),128))])]),t("div",K,[m(v,{class:"d-flex justify-content-center",pagination:o.pagination,"get-page-products":i.getProducts},null,8,["pagination","get-page-products"])])]),t("div",O,[t("div",Q,[t("div",R,[t("div",W,[t("div",X,[t("div",Y,[Z,o.tempProduct.title?(r(),c("div",tt,[t("div",et,[t("img",{src:o.tempProduct.imageUrl,class:"card-img-top primary-image img ps-128 pt-16",alt:"主圖",style:{height:"50%",width:"80%","object-fit":"cover"}},null,8,st),t("div",ot,[t("h5",it,[I(a(o.tempProduct.title)+" ",1),t("span",nt,a(o.tempProduct.category),1)]),t("p",null,"特價： "+a(o.tempProduct.price)+" 元",1),t("p",at," 商品描述："+a(o.tempProduct.description),1),t("p",rt," 商品內容："+a(o.tempProduct.content),1),t("div",ct,[t("div",lt,[t("button",{class:"btn border border-2 me-0",onClick:e[1]||(e[1]=n=>i.addToCart(o.tempProduct.id))}," 加入購物車 "),dt])])])]),t("div",null,[(r(!0),c(h,null,_(o.tempProduct.imagesUrl,(n,d)=>(r(),c("span",{key:d},[t("img",{src:n,alt:"副圖",class:"images m-2 img",style:{height:"150px"}},null,8,mt)]))),128))])])):F("",!0)])])],512)])])]),t("div",pt,[m(P)])],64)}const bt=u(U,[["render",ht]]);export{bt as default};
