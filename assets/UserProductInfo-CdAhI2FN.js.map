{"version":3,"file":"UserProductInfo-CdAhI2FN.js","sources":["../../src/views/UserProductInfo.vue"],"sourcesContent":["<template>\n  <div class=\"container-fluid px-0\">\n    <NavBar />\n  </div>\n\n  <div class=\"container-fluid\">\n    <div class=\"container py-32\">\n      <div class=\"row g-16 mb-48\" v-if=\"product\">\n        <div\n          class=\"col-lg-2 d-none d-lg-flex flex-lg-column\">\n          <div class=\"container pt-60 \">\n            <img :src=\"img\" alt=\"多圖\" style=\"width: 100%; height: 120px\" v-for=\"(img, index) in product.imagesUrl\" @click=\"changeImg(index)\" \n            :key=\"img\" class=\"mb-36 border border-4 border-hover\" /> \n          </div>\n        </div>\n\n        <div class=\"col-12 col-lg-6\">\n          <img\n            :src=\"product.imageUrl\"\n            alt=\"首圖\"\n            style=\"width: 100%; height: 100%; object-fit: cover\"\n          />\n        </div>\n\n        <div\n          class=\"col-12  d-lg-none d-sm-flex flex-sm-row \">\n          <div class=\"container pt-60\">\n            <img :src=\"img\" alt=\"多圖\" style=\"width: 20%; \" v-for=\"(img, index) in product.imagesUrl\" @click=\"changeImg(index)\"\n            :key=\"img\" class=\"me-36 border border-4\" /> \n          \n          </div>\n        </div>\n\n        <div class=\"col-12 col-lg-4\">\n          <div\n            class=\"container d-flex flex-column justify-content-between pt-80\"\n          >\n            <h1 class=\"fs-24 fs-lg-48 fw-bold\">{{ product.title }}</h1>\n            <p class=\"mb-16 new-line\" style=\"color: #8e8e8e;\">{{ product.description }}</p>\n            <p class=\"mb-16 new-line\">{{ product.content }}</p>\n            <div class=\"container d-flex px-0 mb-16\">\n              <p class=\"fs-lg-20 text-danger me-36\">\n                特價： {{ product.price * qty }}\n              </p>\n              <span class=\"fs-lg-20\"\n                ><del>原價： {{ product.origin_price * qty }}</del></span\n              >\n            </div>\n            <div class=\"container px-0 d-flex justify-content-between\">\n              <select\n                name=\"num\"\n                id=\"num\"\n                style=\"width: 40%\"\n                ref=\"selectNum\"\n                @change=\"changeQty\"\n              >\n                <option :value=\"num\" v-for=\"num in 10\" :key=\"num\">\n                  {{ num }}\n                </option>\n              </select>\n\n              <button\n                class=\"btn btn-primary\"\n                style=\"width: 40%\"\n                @click=\"addToCart(product.id)\"\n              >\n                加入購物車\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- <div class=\"row\">\n        <div class=\"col-10\">\n          <p class=\"fs-lg-48\">相似產品</p>\n        </div>\n        <div class=\"col-2\">\n          <router-link to=\"/userProduct\" class=\"fs-lg-24 text-dark\">瀏覽更多</router-link>\n        </div>\n      </div> -->\n    </div>\n  </div>\n  \n  <div class=\"container-fluid px-0\">\n      <PageFooter />\n    </div>\n</template>\n\n<script>\nimport NavBar from \"@/components/NavBar.vue\";\nimport PageFooter from \"@/components/PageFooter.vue\";\nimport { myMixin } from \"@/js/mixin\";\nimport { mapState, mapActions } from \"pinia\";\nimport cartStore from \"@/store/cartStore.js\";\n\nexport default {\n  components: { NavBar, PageFooter },\n  props: [\"id\"],\n  mixins: [myMixin],\n\n  data() {\n    return {\n      url: import.meta.env.VITE_API,\n      api_path: import.meta.env.VITE_PATH,\n      product: {},\n      qty: 1,\n    };\n  },\n\n  computed: {\n    ...mapState(cartStore, [\"storeCart\"]),\n  },\n\n  methods: {\n    ...mapActions(cartStore, [\"getCartList\"]),\n\n    getProduct(id) {\n      this.$http\n        .get(`${this.url}/v2/api/${this.api_path}/product/${id}`)\n        .then((res) => {\n          this.product = res.data.product;\n        })\n        .catch((err) => {\n          console.log(err.response.data.message);\n        });\n    },\n\n    changeQty() {\n      this.qty = parseInt(this.$refs.selectNum.value);\n    },\n\n    addToCart(product_id) {\n      this.$http\n        .post(`${this.url}/v2/api/${this.api_path}/cart`, {\n          data: {\n            product_id,\n            qty: this.qty,\n          },\n        })\n        .then(() => {\n          this.getCartList();\n          alert(\"成功加入購物車\");\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n\n    changeImg(index) {\n      this.product.imageUrl = this.product.imagesUrl[index];\n    },\n  },\n\n\n  mounted() {\n    this.getProduct(this.id);\n    this.loadingCircle();\n  },\n};\n</script>\n\n\n<style lang=\"css\" scoped>\n  .new-line{\n    white-space:pre-wrap ;\n  }\n\n  .border:hover{\n    border: 4px solid black;\n  }\n\n  .hover-element {\n  border: 4px solid  #f3f2ee;\n}\n\n.hover-element:hover {\n  border: 4px solid black;\n}\n</style>"],"names":["_sfc_main","NavBar","PageFooter","myMixin","mapState","cartStore","mapActions","id","res","err","product_id","index","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_openBlock","_createElementBlock","_Fragment","_createElementVNode","_createVNode","_component_NavBar","$data","_hoisted_4","_renderList","img","$event","$options","_toDisplayString","_hoisted_16","args","num","_cache","_createCommentVNode","_component_PageFooter"],"mappings":"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"}