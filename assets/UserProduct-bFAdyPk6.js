import{P}from"./PageFooter-kT9upyOK.js";import{N as w,c as m}from"./NavBar-CUr7E4n9.js";import{P as k}from"./PageNation-ACoh9et_.js";import{_ as C,m as $,g as N,c as l,a as t,b as r,F as h,h as p,r as u,o as d,w as b,t as c,e as g,p as T,f as j}from"./index-Dkh5B9Ci.js";const q={components:{PageFooter:P,NavBar:w,PageNation:k},data(){return{userProducts:[],api:"https://vue3-course-api.hexschool.io",api_path:"wei123",myModal:null,tempProduct:{},pagination:{},filterProducts:[],category:"",qty:""}},computed:{...$(m,["storeCart"])},methods:{...N(m,["getCartList"]),changeQty(){this.qty=parseInt(event.target.value)},addToCart(a){this.qty!=""?this.$http.post(`${this.api}/v2/api/${this.api_path}/cart`,{data:{product_id:a,qty:this.qty}}).then(()=>{this.getCartList(),alert("成功加入購物車")}).catch(o=>{console.log(o.response.data.message)}):this.$http.post(`${this.api}/v2/api/${this.api_path}/cart`,{data:{product_id:a,qty:1}}).then(()=>{this.getCartList(),alert("成功加入購物車")}).catch(o=>{console.log(o.response.data.message)})},changeProductType(){this.category=this.$refs.type.value,this.category!="所有產品"?this.$http.get(`${this.api}/v2/api/${this.api_path}/products?category=${this.category}`).then(a=>{this.userProducts=a.data.products,this.pagination=a.data.pagination,this.userProducts=this.userProducts.filter(o=>o.category===this.category)}).catch(a=>{console.log(a.response.data.message)}):this.getProducts(1)},getProducts(a){this.$http.get(`${this.api}/api/${this.api_path}/products?page=${a}`).then(o=>{this.userProducts=o.data.products,this.pagination=o.data.pagination,window.scrollTo(0,0)}).catch(o=>{console.log(o.response.data.message)})},openModal(){this.myModal.show()}},mounted(){this.getProducts()}},s=a=>(T("data-v-6f506193"),a=a(),j(),a),I={class:"container-fluid px-0"},B={class:"container-fluid py-48 mx-auto"},S={class:"container pt-32 mx-auto"},F={class:"row mx-auto"},Q={class:"col-10 mx-auto"},L=s(()=>t("div",{class:"container d-flex justify-content-between"},null,-1)),M={class:"table d-none d-md-block"},U=s(()=>t("th",null,[t("p",{class:"fs-24 fs-lg-40"},"所有產品")],-1)),V=s(()=>t("th",null,null,-1)),A=s(()=>t("option",{value:"所有產品"},"所有產品",-1)),D=s(()=>t("option",{value:"平板"},"平板",-1)),E=s(()=>t("option",{value:"手機"},"手機",-1)),z=s(()=>t("option",{value:"筆電"},"筆電",-1)),G=[A,D,E,z],H={class:"pt-32",style:{width:"20%"}},J=["src"],K={class:"pt-32",style:{width:"70%"}},O={class:"mb-16 fs-16 fs-md-24 text-dark"},R={class:"d-none d-md-block",style:{color:"#8e8e8e"}},W={class:"pt-32 fs-lg-24 fw-bold text-danger"},X=s(()=>t("p",{class:""},"特價：",-1)),Y={class:"mb-16"},Z=["value"],tt=["onClick"],et=s(()=>t("i",{class:"bi bi-cart-fill"},null,-1)),st=s(()=>t("button",{class:"btn btn-footer hover",style:{width:"100%"}},[t("i",{class:"bi bi-heart-fill"}),g("  加入追蹤 ")],-1)),ot={class:"container d-md-none d-flex justify-content-between"},nt=s(()=>t("p",{class:"fs-24"},"全部商品",-1)),at={name:"",class:"btn btn-footer",ref:"select",style:{width:"30%"}},it=s(()=>t("option",{value:"所有產品"},"所有產品",-1)),ct=s(()=>t("option",{value:"平板"},"平板",-1)),lt=s(()=>t("option",{value:"手機"},"手機",-1)),dt=s(()=>t("option",{value:"筆電"},"筆電",-1)),rt=[it,ct,lt,dt],ht=s(()=>t("hr",null,null,-1)),_t=["onClick"],pt={class:"mb-24 py-16 px-16"},ut=["src"],gt={class:"d-flex flex-column justify-content-between px-32"},ft={class:"mb-16 text-dark"},mt={class:"mb-16 text-danger fw-bold"},bt={class:"mb-16",style:{color:"#8e8e8e"}},yt={class:"container d-flex justify-content-between px-0 mb-16"},vt=["value"],xt=["onClick"],Pt=s(()=>t("i",{class:"bi bi-cart-fill"},null,-1)),wt=["onClick"],kt=s(()=>t("i",{class:"bi bi-heart-fill"},null,-1)),Ct={class:"container pt-32"},$t={class:"container-fluid px-0"};function Nt(a,o,Tt,jt,_,i){const y=u("NavBar"),f=u("router-link"),v=u("PageNation"),x=u("PageFooter");return d(),l(h,null,[t("div",I,[r(y)]),t("div",B,[t("div",S,[t("div",F,[t("div",Q,[L,t("table",M,[t("thead",null,[t("tr",null,[U,V,t("th",null,[t("select",{name:"",id:"",class:"rounded border-2 btn btn-footer",style:{width:"132px",height:"48px"},ref:"type",onChange:o[0]||(o[0]=(...e)=>i.changeProductType&&i.changeProductType(...e))},G,544)])])]),t("tbody",null,[(d(!0),l(h,null,p(_.userProducts,e=>(d(),l("tr",{key:e.id},[t("td",H,[t("img",{src:e.imageUrl,alt:"商品圖片",style:{height:"240px",width:"240px","object-fit":"cover"},class:"mb-16"},null,8,J)]),t("td",K,[r(f,{to:`/userProductInfo/${e.id}`},{default:b(()=>[t("h5",O,c(e.title),1)]),_:2},1032,["to"]),t("p",R," 產品描述："+c(e.description),1)]),t("td",W,[X,t("p",Y,c(e.price),1),t("select",{class:"rounded border-2 mb-16",name:"num",style:{width:"100%"},ref_for:!0,ref:"qty",onChange:o[1]||(o[1]=(...n)=>i.changeQty&&i.changeQty(...n))},[(d(),l(h,null,p(10,n=>t("option",{value:n,key:n},c(n),9,Z)),64))],544),t("button",{class:"btn btn-footer hover mb-16 color",style:{width:"100%"},onClick:n=>i.addToCart(e.id)},[et,g(" 加入購物車 ")],8,tt),st])]))),128))])]),t("div",ot,[nt,t("select",at,rt,512),ht]),(d(!0),l(h,null,p(_.userProducts,e=>(d(),l("div",{class:"d-md-none d-flex justify-content-between",key:e.id,onClick:n=>_.tempProduct=e},[t("div",pt,[t("img",{src:e.imageUrl,alt:"商品圖片",style:{height:"280px",width:"280px","object-fit":"cover"},class:"mb-16"},null,8,ut),t("div",gt,[r(f,{to:`/userProductInfo/${e.id}`,target:"_blank"},{default:b(()=>[t("h5",ft,c(e.title),1)]),_:2},1032,["to"]),t("p",mt," 特價："+c(e.price)+" 元 ",1),t("p",bt,c(e.description),1),t("div",yt,[t("select",{class:"btn btn-footer fs-14",style:{width:"45%"},ref_for:!0,ref:"qty",onChange:o[2]||(o[2]=(...n)=>i.changeQty&&i.changeQty(...n))},[(d(),l(h,null,p(10,n=>t("option",{value:n,key:n},c(n),9,vt)),64))],544),t("button",{class:"btn btn-footer fs-14 hover",style:{width:"45%"},onClick:n=>i.addToCart(e.id)},[Pt,g(" 加入購物車 ")],8,xt)]),t("button",{class:"btn btn-footer fs-14 hover",style:{width:"100%"},onClick:n=>i.addToCart(e.id)},[kt,g(" 加入追蹤 ")],8,wt)])])],8,_t))),128))])])]),t("div",Ct,[r(v,{class:"d-flex justify-content-center",pagination:_.pagination,"get-page-products":i.getProducts},null,8,["pagination","get-page-products"])])]),t("div",$t,[r(x)])],64)}const Ft=C(q,[["render",Nt],["__scopeId","data-v-6f506193"]]);export{Ft as default};
