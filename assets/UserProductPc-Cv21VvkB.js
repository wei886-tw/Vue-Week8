import{P as x,N as P}from"./NavBar-BhoeV6vs.js";import{P as w}from"./PageNation-BifN1AK2.js";import{m as k}from"./mixin-C3YSFU39.js";import{_ as C,l,j as t,i as r,F as h,v as p,k as u,e as d,g as y,y as c,z as g,q as $,s as N}from"./index-BOjUiT_s.js";const T={components:{PageFooter:x,NavBar:P,PageNation:w},mixins:[k],data(){return{userProducts:[],api:"https://vue3-course-api.hexschool.io",api_path:"wei123",myModal:null,tempProduct:{},pagination:{},filterProducts:[],category:"",qty:""}},methods:{changeQty(){this.qty=parseInt(event.target.value)},addToCart(o){this.qty!=""?this.$http.post(`${this.api}/v2/api/${this.api_path}/cart`,{data:{product_id:o,qty:this.qty}}).then(()=>{alert("成功加入購物車")}).catch(n=>{console.log(n.response.data.message)}):this.$http.post(`${this.api}/v2/api/${this.api_path}/cart`,{data:{product_id:o,qty:1}}).then(()=>{alert("成功加入購物車")}).catch(n=>{console.log(n.response.data.message)})},changeProductType(){this.category=this.$refs.type.value,this.category!="所有產品"?this.$http.get(`${this.api}/v2/api/${this.api_path}/products?category=${this.category}`).then(o=>{this.userProducts=o.data.products,this.pagination=o.data.pagination,this.userProducts=this.userProducts.filter(n=>n.category===this.category),alert(`顯示所有${this.category}產品`)}).catch(o=>{console.log(o.response.data.message)}):this.getProducts()},getPcProducts(){this.$http.get(`${this.api}/v2/api/${this.api_path}/products?category=筆電`).then(o=>{this.userProducts=o.data.products,this.pagination=o.data.pagination,this.loadingCircle(),window.scrollTo(0,0)})},getProducts(o){this.$http.get(`${this.api}/api/${this.api_path}/products?page=${o}`).then(n=>{this.userProducts=n.data.products,this.pagination=n.data.pagination,this.loadingCircle(),window.scrollTo(0,0)}).catch(n=>{console.log(n.response.data.message)})},openModal(){this.myModal.show()}},mounted(){this.getPcProducts()}},s=o=>($("data-v-833bf6ea"),o=o(),N(),o),j={class:"container-fluid px-0"},q={class:"container-fluid py-48 mx-auto"},I={class:"container pt-32 mx-auto"},B={class:"row mx-auto"},F={class:"col-10 mx-auto"},Q=s(()=>t("div",{class:"container d-flex justify-content-between"},null,-1)),M={class:"table d-none d-md-block"},S=s(()=>t("th",null,[t("p",{class:"fs-24 fs-lg-40"},"所有產品")],-1)),U=s(()=>t("th",null,null,-1)),V=s(()=>t("option",{value:"所有產品"},"所有產品",-1)),z=s(()=>t("option",{value:"平板"},"平板",-1)),D=s(()=>t("option",{value:"手機"},"手機",-1)),E=s(()=>t("option",{value:"筆電",selected:""},"筆電",-1)),L=[V,z,D,E],A={class:"pt-32",style:{width:"20%"}},G=["src"],H={class:"pt-32",style:{width:"70%"}},J={class:"mb-16 fs-16 fs-md-24 text-dark"},K={class:"d-none d-md-block",style:{color:"#8e8e8e"}},O={class:"pt-32 fs-lg-24 fw-bold text-danger"},R=s(()=>t("p",{class:""},"特價：",-1)),W={class:"mb-16"},X=["value"],Y=["onClick"],Z=s(()=>t("i",{class:"bi bi-cart-fill"},null,-1)),tt=s(()=>t("button",{class:"btn btn-footer hover",style:{width:"100%"}},[t("i",{class:"bi bi-heart-fill"}),g("  加入追蹤 ")],-1)),et={class:"container d-md-none d-flex justify-content-between"},st=s(()=>t("p",{class:"fs-24"},"全部商品",-1)),ot={name:"",class:"btn btn-footer",ref:"select",style:{width:"30%"}},nt=s(()=>t("option",{value:"所有產品"},"所有產品",-1)),it=s(()=>t("option",{value:"平板"},"平板",-1)),at=s(()=>t("option",{value:"手機"},"手機",-1)),ct=s(()=>t("option",{value:"筆電"},"筆電",-1)),lt=[nt,it,at,ct],dt=s(()=>t("hr",null,null,-1)),rt=["onClick"],ht={class:"mb-24 py-16 px-16"},_t=["src"],pt={class:"d-flex flex-column justify-content-between px-32"},ut={class:"mb-16 text-dark"},gt={class:"mb-16 text-danger fw-bold"},ft={class:"mb-16",style:{color:"#8e8e8e"}},yt={class:"container d-flex justify-content-between px-0 mb-16"},bt=["value"],mt=["onClick"],vt=s(()=>t("i",{class:"bi bi-cart-fill"},null,-1)),xt=["onClick"],Pt=s(()=>t("i",{class:"bi bi-heart-fill"},null,-1)),wt={class:"container pt-32"},kt={class:"container-fluid px-0"};function Ct(o,n,$t,Nt,_,a){const b=u("NavBar"),f=u("router-link"),m=u("PageNation"),v=u("PageFooter");return d(),l(h,null,[t("div",j,[r(b)]),t("div",q,[t("div",I,[t("div",B,[t("div",F,[Q,t("table",M,[t("thead",null,[t("tr",null,[S,U,t("th",null,[t("select",{name:"",id:"",class:"rounded border-2 btn btn-footer",style:{width:"132px",height:"48px"},ref:"type",onChange:n[0]||(n[0]=(...e)=>a.changeProductType&&a.changeProductType(...e))},L,544)])])]),t("tbody",null,[(d(!0),l(h,null,p(_.userProducts,e=>(d(),l("tr",{key:e.id},[t("td",A,[t("img",{src:e.imageUrl,alt:"商品圖片",style:{height:"240px",width:"240px","object-fit":"cover"},class:"mb-16"},null,8,G)]),t("td",H,[r(f,{to:`/userProductInfo/${e.id}`},{default:y(()=>[t("h5",J," 產品名稱："+c(e.title),1)]),_:2},1032,["to"]),t("p",K," 產品描述："+c(e.description),1)]),t("td",O,[R,t("p",W,c(e.price),1),t("select",{class:"rounded border-2 mb-16",name:"num",style:{width:"100%"},ref_for:!0,ref:"qty",onChange:n[1]||(n[1]=(...i)=>a.changeQty&&a.changeQty(...i))},[(d(),l(h,null,p(10,i=>t("option",{value:i,key:i},c(i),9,X)),64))],544),t("button",{class:"btn btn-footer hover mb-16 color",style:{width:"100%"},onClick:i=>a.addToCart(e.id)},[Z,g(" 加入購物車 ")],8,Y),tt])]))),128))])]),t("div",et,[st,t("select",ot,lt,512),dt]),(d(!0),l(h,null,p(_.userProducts,e=>(d(),l("div",{class:"d-md-none d-flex justify-content-between",key:e.id,onClick:i=>_.tempProduct=e},[t("div",ht,[t("img",{src:e.imageUrl,alt:"商品圖片",style:{height:"280px",width:"280px","object-fit":"cover"},class:"mb-16"},null,8,_t),t("div",pt,[r(f,{to:`/userProductInfo/${e.id}`,target:"_blank"},{default:y(()=>[t("h5",ut,"產品名稱："+c(e.title),1)]),_:2},1032,["to"]),t("p",gt," 特價："+c(e.price)+" 元 ",1),t("p",ft,c(e.description),1),t("div",yt,[t("select",{class:"btn btn-footer fs-14",style:{width:"45%"},ref_for:!0,ref:"qty",onChange:n[2]||(n[2]=(...i)=>a.changeQty&&a.changeQty(...i))},[(d(),l(h,null,p(10,i=>t("option",{value:i,key:i},c(i),9,bt)),64))],544),t("button",{class:"btn btn-footer fs-14 hover",style:{width:"45%"},onClick:i=>a.addToCart(e.id)},[vt,g(" 加入購物車 ")],8,mt)]),t("button",{class:"btn btn-footer fs-14 hover",style:{width:"100%"},onClick:i=>a.addToCart(e.id)},[Pt,g(" 加入追蹤 ")],8,xt)])])],8,rt))),128))])])]),t("div",wt,[r(m,{class:"d-flex justify-content-center",pagination:_.pagination,"get-page-products":a.getProducts},null,8,["pagination","get-page-products"])])]),t("div",kt,[r(v)])],64)}const Bt=C(T,[["render",Ct],["__scopeId","data-v-833bf6ea"]]);export{Bt as default};
