import{A as g}from"./AdminNavBar-CWB4JuAp.js";import{P as u}from"./PageNation-D5FDx9pd.js";import{_ as m,l as o,j as t,i as r,F as f,v as b,k as h,e as i,y as s,z as c}from"./index-DS6E6Bpz.js";const v={components:{AdminNavBar:g,PageNation:u},data(){return{api:"https://vue3-course-api.hexschool.io",api_path:"wei123",orders:[],ordersPagination:{}}},methods:{getOrders(n=1){this.$http.get(`${this.api}/v2/api/${this.api_path}/admin/orders?page=${n}`).then(a=>{this.orders=a.data.orders,this.ordersPagination=a.data.pagination}).catch(a=>{alert(a.response.data.message)})},deleteOrder(n){this.$http.delete(`${this.api}/v2/api/${this.api_path}/admin/order/${n}`).then(()=>{alert("訂單已刪除！"),this.getOrders(1)}).catch(a=>{console.log(a.response.data.message)})}},mounted(){this.getOrders(1);const n=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*\=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=n}},y={class:"container-fluid px-0"},$={class:"container-fluid px-0"},x={class:"container py-32"},k=t("h2",{class:"text-center mb-16 fs-32"},"訂單列表",-1),w={class:"table"},O=t("thead",null,[t("tr",null,[t("th",{scope:"col",style:{width:"10%"}},"刪除"),t("th",{scope:"col",style:{width:"10%"}},"下單時間"),t("th",{scope:"col",style:{width:"15%"}},"訂單編號"),t("th",{scope:"col",style:{width:"10%"}},"價格"),t("th",{scope:"col",style:{width:"20%"}},"是否付款"),t("th",{scope:"col",style:{width:"20%"}},"買家資訊"),t("th",{scope:"col",style:{width:"10%"}},"留言")])],-1),N={class:"btn btn-danger"},P=["onClick"],A={class:"align-center"},B={class:"align-center"},C={class:"align-center"},D={class:"align-center"},V={class:"align-center"},j=t("br",null,null,-1),z=t("br",null,null,-1),F={class:"container d-flex justify-content-end"};function L(n,a,S,T,l,d){const p=h("admin-nav-bar"),_=h("page-nation");return i(),o("div",y,[t("div",$,[r(p)]),t("div",x,[k,t("table",w,[O,t("tbody",null,[(i(!0),o(f,null,b(l.orders,e=>(i(),o("tr",{key:e.id,class:"align-center"},[t("td",null,[t("button",N,[t("i",{class:"bi bi-x-lg",onClick:E=>d.deleteOrder(e.id)},null,8,P)])]),t("td",A,s(new Date(e.create_at).toLocaleDateString()),1),t("td",B,s(e.id),1),t("td",C,s(e.total),1),t("td",D,s(e.is_paid?"已付款":"未付款"),1),t("td",V,[c(" email: "+s(e.user.email)+" ",1),j,c(" 地址： "+s(e.user.address)+" ",1),z,c(" 姓名: "+s(e.user.name),1)]),t("td",null,s(e.message),1)]))),128))])]),t("div",F,[r(_,{pagination:l.ordersPagination,"get-page-products":d.getOrders},null,8,["pagination","get-page-products"])])])])}const I=m(v,[["render",L]]);export{I as default};
