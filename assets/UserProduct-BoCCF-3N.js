import{P}from"./PageFooter-BwFVEHIO.js";import{N as x}from"./NavBar-BHJVETQs.js";import{P as $}from"./PageNation-DJkZxsgz.js";import{_ as h,o as c,c as d,a as e,m as I,t as y,n as k,b as r,F as p,f as C,r as l,w as F,g as m}from"./index-C10YYT8w.js";const w={data(){return{allItem:[],filterItem:[],api:"https://vue3-course-api.hexschool.io",api_path:"wei123",isActive:!1}},methods:{filter(s){s==="所有產品"?this.filterItem=this.allItem.map(t=>t):(this.filterItem=this.allItem.filter(t=>t.category===s),this.isActive=!0),this.$emit("emitFilterItem",this.filterItem)},getAllProducts(){this.$http.get(`${this.api}/api/${this.api_path}/products/all`).then(s=>{this.allItem=s.data.products}).catch(s=>{alert(s.response.message)})}},mounted(){this.getAllProducts()}},N={class:"container"},j={class:"d-flex justify-content-center"};function A(s,t,u,_,n,o){return c(),d("div",N,[e("div",j,[e("div",I({class:"btn-group mb-32"},y(o.filter,!0)),[e("a",{href:"#",class:k(["btn btn-secondary btn-lg",{"btn-secondary":n.isActive}]),"aria-current":"page",onClick:t[0]||(t[0]=a=>o.filter("所有產品"))},"所有產品",2),e("a",{href:"#",class:"btn btn-footer btn-lg",onClick:t[1]||(t[1]=a=>o.filter("筆電"))},"筆電"),e("a",{href:"#",class:"btn btn-footer btn-lg",onClick:t[2]||(t[2]=a=>o.filter("手機"))},"手機"),e("a",{href:"#",class:"btn btn-footer btn-lg",onClick:t[3]||(t[3]=a=>o.filter("平板"))},"平板")],16)])])}const B=h(w,[["render",A]]),E={components:{PageFooter:P,NavBar:x,PageNation:$,FilterComponents:B},data(){return{userProducts:[],api:"https://vue3-course-api.hexschool.io",api_path:"wei123",myModal:null,tempProduct:{},pagination:{},filterItem:[]}},methods:{getFilterItem(s){this.userProducts=s},getProducts(s){this.$http.get(`${this.api}/api/${this.api_path}/products?page=${s}`).then(t=>{this.userProducts=t.data.products,this.pagination=t.data.pagination})},addToCart(s){this.$http.post(`${this.api}/v2/api/${this.api_path}/cart`,{data:{product_id:s,qty:1}}).then(()=>{alert("成功加入購物車")}).catch(t=>{console.log(t)})},openModal(){this.myModal.show()}},mounted(){this.getProducts()}},M={class:"container-fluid py-48"},U={class:"container pt-60"},V={class:"row"},q=["onClick"],z={class:"mb-24 py-16 px-16"},D=["src"],H={class:"d-flex flex-column justify-content-between px-32"},L={class:"mb-16 text-dark"},S={class:"mb-16 text-dark"},T={class:"container pt-32"},G={class:"container-fluid px-0"};function J(s,t,u,_,n,o){const a=l("nav-bar"),f=l("filter-components"),g=l("router-link"),v=l("PageNation"),b=l("PageFooter");return c(),d(p,null,[r(a),e("div",M,[e("div",U,[r(f,{onEmitFilterItem:o.getFilterItem},null,8,["onEmitFilterItem"]),e("div",V,[(c(!0),d(p,null,C(n.userProducts,i=>(c(),d("div",{class:"col-12 col-md-6 col-lg-4 d-flex justify-content-between",key:i.id,onClick:K=>n.tempProduct=i},[e("div",z,[r(g,{to:`/userProductInfo/${i.id}`},{default:F(()=>[e("img",{src:i.imageUrl,alt:"商品圖片",style:{height:"360px",width:"100%","object-fit":"cover"},class:"mb-16"},null,8,D),e("div",H,[e("h5",L,"產品名稱："+m(i.title),1),e("p",S,"特價："+m(i.price)+" 元",1)])]),_:2},1032,["to"])])],8,q))),128))])]),e("div",T,[r(v,{class:"d-flex justify-content-center",pagination:n.pagination,"get-page-products":o.getProducts},null,8,["pagination","get-page-products"])])]),e("div",G,[r(b)])],64)}const X=h(E,[["render",J]]);export{X as default};
