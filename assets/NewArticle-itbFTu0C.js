import{A as m}from"./AdminNavBar-moKxhPdd.js";import{U as u}from"./UploadImageModal-BJAM5cbT.js";import{_,c as g,b as r,a as t,i,v as a,l as f,g as b,k as x,F as y,d as l,r as d,o as v}from"./index-D9ZRs92O.js";const w={components:{AdminNavBar:m,UploadImageModal:u},data(){return{myModal:null,tempArticleInfo:{imageUrl:""},imageUrl:"",title:"",content:"",author:"",articleCategory:"",tag:[],description:"",isPublic:!0,create_at:"",url:"https://vue3-course-api.hexschool.io",api_path:"wei123"}},methods:{getUrl(n){this.imageUrl=n},postArticle(){this.create_at=new Date().getTime(),this.$http.post(`${this.url}/v2/api/${this.api_path}/admin/article`,{data:{title:this.title,description:this.description,image:this.imageUrl,tag:this.tag,create_at:this.create_at,author:this.author,isPublic:this.isPublic,content:this.content}}).then(()=>{alert("文章建立成功"),this.$refs.form.reset(),this.imageUrl="",this.$router.push("/adminBlog")}).catch(n=>{console.log(n.response.data.message)})}}},U={class:"container-fluid"},k={class:"container py-48"},C={ref:"form"},V={class:"row"},A={class:"col"},P=t("label",{class:"fs-24 mb-8",for:"title"},[l("文章標題"),t("span",{class:"text-danger"},"*")],-1),B={class:"row"},D={class:"col-6"},M=t("label",{class:"fs-24",for:"author"},[l(" 文章作者"),t("span",{class:"text-danger"},"*")],-1),N={class:"col-6"},I=t("label",{class:"fs-24",for:"articleCategory"},[l(" 文章分類"),t("span",{class:"text-danger"},"*")],-1),E=t("p",null,[l(" 點擊帶入文章分類： "),t("button",{class:"btn btn-gray me-8"},"最新消息"),t("button",{class:"btn btn-gray me-8"},"活動講座"),t("button",{class:"btn btn-gray me-8"},"專欄講座")],-1),S={class:"row mb-24"},T={class:"col"},F=t("label",{class:"fs-24",for:"tag"},[l("文章標籤"),t("span",{class:"text-danger"},"*")],-1),j=t("label",{class:"fs-24",for:"description"},[l("文章簡述"),t("span",{class:"text-danger"},"*")],-1),q=t("label",{class:"fs-24",for:"description"},[l("文章內容"),t("span",{class:"text-danger"},"*")],-1),z=t("h3",{class:"fs-24 mb-16"},"封面圖片",-1),G={class:"card mb-32",style:{width:"240px"}},H=["src"],J={class:"card-body"},K={class:"row"},L={class:"col-6"},O=t("h3",{class:"fs-24"},"文章發佈狀態",-1),Q={class:"form-check form-switch"},R={class:"form-check-label",for:"flexSwitchCheckDefault"},W={class:"col-6 d-flex justify-content-end"};function X(n,e,Y,Z,s,c){const h=d("admin-nav-bar"),p=d("upload-image-modal");return v(),g(y,null,[r(h),t("div",U,[t("div",k,[t("form",C,[t("div",V,[t("div",A,[P,i(t("input",{type:"text",class:"rounded mb-32 form-check-input",style:{width:"100%",height:"40px"},"onUpdate:modelValue":e[0]||(e[0]=o=>s.title=o),name:"title",id:"title"},null,512),[[a,s.title]])])]),t("div",B,[t("div",D,[M,i(t("input",{type:"text",class:"rounded mb-32 form-check-input",style:{width:"100%",height:"40px"},placeholder:"請填入作者",name:"author",id:"author","onUpdate:modelValue":e[1]||(e[1]=o=>s.author=o)},null,512),[[a,s.author]])]),t("div",N,[I,i(t("input",{type:"text",class:"rounded mb-16 form-check-input",style:{width:"100%",height:"40px"},placeholder:"請填入文章分類",name:"articleCategory",id:"articleCategory","onUpdate:modelValue":e[2]||(e[2]=o=>s.articleCategory=o)},null,512),[[a,s.articleCategory]]),E])]),t("div",S,[t("div",T,[F,i(t("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=o=>s.tag=o),class:"rounded mb-24 form-check-input",name:"tag",id:"tag",style:{width:"100%",height:"40px"},placeholder:"請填入文章標籤"},null,512),[[a,s.tag]]),j,i(t("textarea",{"onUpdate:modelValue":e[4]||(e[4]=o=>s.description=o),class:"rounded mb-24 form-check-input",style:{width:"100%",height:"120px"},placeholder:"請填入 100 字內描述",name:"description",id:"description"},null,512),[[a,s.description]]),q,i(t("textarea",{type:"text","onUpdate:modelValue":e[5]||(e[5]=o=>s.content=o),class:"rounded mb-24 form-check-input",style:{width:"100%",height:"240px"},placeholder:"請輸入文章內容",name:"content",id:"content"},null,512),[[a,s.content]])])]),z,t("div",G,[t("img",{src:s.imageUrl,class:"card-img-top"},null,8,H),t("div",J,[r(p,{onEmitImgUrl:c.getUrl},null,8,["onEmitImgUrl"])])]),t("div",K,[t("div",L,[O,t("div",Q,[i(t("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheckDefault","onUpdate:modelValue":e[6]||(e[6]=o=>s.isPublic=o)},null,512),[[f,s.isPublic]]),t("label",R,b(s.isPublic?"文章公開":"文章不公開"),1)])]),t("div",W,[t("button",{class:"btn btn-dark",onClick:e[7]||(e[7]=x((...o)=>c.postArticle&&c.postArticle(...o),["prevent"]))},"送出文章")])])],512)])])],64)}const st=_(w,[["render",X]]);export{st as default};
