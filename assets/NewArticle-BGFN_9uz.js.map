{"version":3,"file":"NewArticle-BGFN_9uz.js","sources":["../../src/views/NewArticle.vue"],"sourcesContent":["<template>\n  <AdminNavBar />\n  <div class=\"container-fluid\">\n    <div class=\"container py-48\">\n      <form ref=\"form\">\n        <div class=\"row\">\n          <div class=\"col-10 mx-auto\">\n            <label class=\"fs-24 mb-8\" for=\"title\"\n              >文章標題<span class=\"text-danger\">*</span></label\n            >\n            <input\n              type=\"text\"\n              class=\"rounded mb-32 form-check-input\"\n              style=\"width: 100%; height: 40px\"\n              v-model=\"title\"\n              name=\"title\"\n              id=\"title\"\n            />\n            <label class=\"fs-24\" for=\"author\">\n              文章作者<span class=\"text-danger\">*</span>\n            </label>\n            <input\n              type=\"text\"\n              class=\"rounded mb-32 form-check-input\"\n              style=\"width: 100%; height: 40px\"\n              placeholder=\"請填入作者\"\n              name=\"author\"\n              id=\"author\"\n              v-model=\"author\"\n            />\n            <label class=\"fs-24\" for=\"articleCategory\">\n              文章分類<span class=\"text-danger\">*</span>\n            </label>\n            <input\n              type=\"text\"\n              class=\"rounded mb-16 form-check-input\"\n              style=\"width: 100%; height: 40px\"\n              placeholder=\"請點擊按鈕填入文章分類\"\n              name=\"articleCategory\"\n              id=\"articleCategory\"\n              v-model=\"tag\"\n              ref=\"tagText\"\n            />\n            <p class=\"mb-16\">\n              點擊帶入文章分類：\n              <button\n                class=\"btn btn-gray me-8\"\n                @click.prevent=\"addTag('最新消息')\"\n              >\n                最新消息\n              </button>\n              <button\n                class=\"btn btn-gray me-8\"\n                @click.prevent=\"addTag('活動講座')\"\n              >\n                活動講座\n              </button>\n              <button\n                class=\"btn btn-gray me-8\"\n                @click.prevent=\"addTag('本站獨家')\"\n              >\n                本站獨家\n              </button>\n            </p>\n\n            <label class=\"fs-24\" for=\"description\"\n              >文章簡述<span class=\"text-danger\">*</span></label\n            >\n            <textarea\n              v-model=\"description\"\n              class=\"rounded mb-24 form-check-input\"\n              style=\"width: 100%; height: 120px\"\n              placeholder=\"請填入 100 字內描述\"\n              name=\"description\"\n              id=\"description\"\n            />\n            <label class=\"fs-24\" for=\"description\"\n              >文章內容<span class=\"text-danger\">*</span></label\n            >\n            <textarea\n              type=\"text\"\n              v-model=\"content\"\n              class=\"rounded mb-24 form-check-input\"\n              style=\"width: 100%; height: 240px\"\n              placeholder=\"請輸入文章內容\"\n              name=\"content\"\n              id=\"content\"\n            />\n\n            <div class=\"row\">\n              <div class=\"col-6 d-flex flex-column justify-content-between\">\n                <div class=\"container px-0 d-flex align-items-center\">\n                  <label class=\"fs-24 mb-8 h3\" for=\"title\"\n                    >圖片預覽<span class=\"text-danger\">*</span></label\n                  >\n                </div>\n                <p class=\"mb-16\">\n                  僅限使用 jpg、jpeg 與 png 格式，檔案大小限制為 3MB 以下\n                </p>\n                <form ref=\"imgForm\">\n                  <input\n                    class=\"form-control mb-32\"\n                    type=\"text\"\n                    ref=\"imgInput\"\n                    id=\"test\"\n                    placeholder=\"請填入圖片網址\"\n                    v-model=\"imageUrl\"\n                  />\n                  <input\n                    class=\"form-control mb-32\"\n                    type=\"file\"\n                    ref=\"dropArea\"\n                    name=\"file-to-upload\"\n                  />\n                </form>\n                <button\n                  type=\"button\"\n                  class=\"btn border w-100 mb-16\"\n                  @click=\"submitImgUrl\"\n                >\n                  上傳圖片\n                </button>\n                <div class=\"form-check form-switch  px-0\">\n                    <form action=\"\" class=\"form-check form-switch mb-16\">\n                      <label\n                        class=\"form-check-label\"\n                        for=\"flexSwitchCheckDefault\"\n                        >{{ isPublic ? \"文章公開\" : \"文章不公開\" }}</label\n                      >\n                      <input\n                        class=\"form-check-input\"\n                        type=\"checkbox\"\n                        id=\"flexSwitchCheckDefault\"\n                        v-model=\"isPublic\"\n                      />\n                    </form>\n                  </div>\n\n                  <button class=\"btn btn-footer w-100\" @click.prevent=\"postArticle\">\n                    送出文章\n                  </button>\n              </div>\n\n              <div class=\"col-6\">\n                <div\n                  class=\"border border-1\"\n                  style=\"height: 360px;\"\n                >\n                  <img\n                    v-if=\"imageUrl\"\n                    :src=\"imageUrl\"\n                    alt=\"picture\"\n                    style=\"width: 100%; object-fit: cover\"\n                  />\n                  <p v-else class=\"text-dark-gray text-center\">現在沒有圖片\n                    <img src=\"https://www.samys.com/images/product/main/S-008607x1000.jpg\" alt=\"代替圖片\"\n                    style=\"width: 100%; height: 360px; object-fit: cover\"\n                    >\n                  </p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport AdminNavBar from \"@/components/AdminNavBar.vue\";\n\nexport default {\n  components: { AdminNavBar },\n  data() {\n    return {\n      myModal: null,\n      tempArticleInfo: {\n        imageUrl: \"\",\n      },\n      imageUrl: \"\",\n      title: \"\",\n      content: \"\",\n      author: \"\",\n      articleCategory: \"\",\n      tag: [],\n      description: \"\",\n      isPublic: true,\n      create_at: \"\",\n      url: import.meta.env.VITE_API,\n      api_path: import.meta.env.VITE_PATH,\n    };\n  },\n\n  methods: {\n    getUrl(url) {\n      this.imageUrl = url;\n    },\n\n    postArticle() {\n      this.create_at = new Date().getTime();\n      this.$http\n        .post(`${this.url}/v2/api/${this.api_path}/admin/article`, {\n          data: {\n            title: this.title,\n            description: this.description,\n            image: this.imageUrl,\n            tag: this.tag,\n            create_at: this.create_at,\n            author: this.author,\n            isPublic: this.isPublic,\n            content: this.content,\n          },\n        })\n        .then(() => {\n          alert(\"文章建立成功\");\n          this.$refs.form.reset();\n          this.imageUrl = \"\";\n          this.$router.push(\"/adminBlog\");\n        })\n\n        .catch((err) => {\n          console.log(err.response.data.message);\n        });\n    },\n\n    addTag(text) {\n      if (this.tag.length === 0) {\n        this.tag = text;\n      } else if (this.tag.indexOf(text) === -1) {\n        this.tag = this.tag.concat(\"、\", text);\n      }\n    },\n\n    emitImg(url) {\n      this.imageUrl = url;\n    },\n\n    submitImgUrl() {\n      const fileInput = this.$refs.dropArea;\n      const file = fileInput.files[0];\n      const formData = new FormData();\n      formData.append(\"file-to-upload\", file);\n      this.$http\n        .post(`${this.url}/v2/api/${this.api_path}/admin/upload`, formData)\n        .then((res) => {\n          this.imageUrl = res.data.imageUrl;\n        })\n        .catch((err) => {\n          console.log(err.response.data.message);\n        });\n    },\n  },\n\n  mounted() {},\n};\n</script>\n\n<style lang=\"scss\" scoped>\ninput[type=\"checkbox\"] {\n  color: black;\n  background-color: #f3f2ee;\n  border-color: #f3f2ee;\n}\n</style>"],"names":["_sfc_main","AdminNavBar","url","err","text","file","formData","res","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_createElementVNode","_hoisted_9","_hoisted_12","_hoisted_13","_hoisted_15","_withScopeId","_hoisted_16","_hoisted_18","_hoisted_21","_hoisted_23","_openBlock","_createElementBlock","_Fragment","_createVNode","_component_AdminNavBar","_hoisted_6","_cache","$event","$data","_hoisted_7","_hoisted_8","_createTextVNode","_withModifiers","$options","_hoisted_10","_hoisted_11","_hoisted_14","_hoisted_17","args","_hoisted_19","_hoisted_20","_toDisplayString","_hoisted_22","_hoisted_24","_hoisted_25"],"mappings":"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"}