import{P as k,N as w,c as y}from"./NavBar-CH2jMvLM.js";import{P as C}from"./PageNation-BsS3_Kue.js";import{_ as T,t as j,u as $,l as r,j as t,i as u,F as h,v as _,x as g,f as N,k as p,e as c,g as m,y as l,z as f,q as M,s as q}from"./index-D-hwiczx.js";import{m as B}from"./mixin-CE07gU2g.js";const I={components:{PageFooter:k,NavBar:w,PageNation:C},mixins:[B],data(){return{userProducts:[],api:"https://vue3-course-api.hexschool.io",api_path:"wei123",myModal:null,tempProduct:{},searchProducts:["2"],pagination:{},filterProducts:[],category:"",qty:""}},computed:{...j(y,["storeCart"])},methods:{...$(y,["getCartList"]),changeQty(){this.qty=parseInt(event.target.value)},addToCart(o){this.qty!=""?this.$http.post(`${this.api}/v2/api/${this.api_path}/cart`,{data:{product_id:o,qty:this.qty}}).then(()=>{this.getCartList(),alert("成功加入購物車")}).catch(e=>{console.log(e.response.data.message)}):this.$http.post(`${this.api}/v2/api/${this.api_path}/cart`,{data:{product_id:o,qty:1}}).then(()=>{this.getCartList(),alert("成功加入購物車")}).catch(e=>{console.log(e.response.data.message)})},changeProductType(){this.category=this.$refs.type.value,this.category!="所有產品"?this.$http.get(`${this.api}/v2/api/${this.api_path}/products?category=${this.category}`).then(o=>{this.userProducts=o.data.products,this.pagination=o.data.pagination,this.userProducts=this.userProducts.filter(e=>e.category===this.category),alert(`顯示所有${this.category}產品`)}).catch(o=>{console.log(o.response.data.message)}):this.getProducts(1)},getProducts(o){this.$http.get(`${this.api}/api/${this.api_path}/products?page=${o}`).then(e=>{this.userProducts=e.data.products,this.pagination=e.data.pagination,window.scrollTo(0,0)}).catch(e=>{console.log(e.response.data.message)})},openModal(){this.myModal.show()},searchProduct(){this.title=this.$refs.search.value,this.title!==void 0&&this.title!==""?this.$http.get(`${this.api}/v2/api/${this.api_path}/products/all`).then(o=>{this.userProducts=o.data.products,this.pagination={},this.userProducts=this.userProducts.filter(e=>e.title.includes(this.title)),alert(`搜尋 ${this.title} 的結果`),this.searchProducts=this.userProducts,this.title=""}).catch(o=>{console.log(o.response.data.message)}):alert("請輸入關鍵字")},backToPreviousPage(){this.getProducts(),this.$refs.search.value="",this.$refs.searchMobile.value=""},searchProductMobile(){this.title=this.$refs.searchMobile.value,this.title!==void 0?this.$http.get(`${this.api}/v2/api/${this.api_path}/products/all`).then(o=>{this.userProducts=o.data.products,this.pagination={},this.userProducts=this.userProducts.filter(e=>e.title.includes(this.title)),alert(`搜尋 ${this.title} 的結果`),console.log(this.userProducts),this.searchProducts=this.userProducts,this.title=""}).catch(o=>{console.log(o.response.data.message)}):alert("請輸入關鍵字")}},mounted(){this.loadingCircle(),this.getProducts()}},i=o=>(M("data-v-c293cbf8"),o=o(),q(),o),S={class:"container-fluid px-0"},F={class:"container-fluid mx-auto"},Q={class:"container pt-48 mx-auto"},L={class:"row mx-auto"},V={class:"col-10 mx-auto"},U=i(()=>t("div",{class:"container d-flex justify-content-between"},null,-1)),z={class:"table d-none d-md-block"},A=i(()=>t("th",{style:{width:"25%"},class:"align-items-bottom p-0"},[t("p",{class:"fs-24 fs-md-32 fs-lg-40"},"所有產品")],-1)),D={style:{width:"60%"}},E={class:"rounded border-2 py-0 bg-footer d-flex justify-content-between align-items-center",style:{height:"48px"}},G={type:"text",class:"rounded border-footer border-5 bg-footer py-0 px-0 form-control",placeholder:"請輸入欲搜尋產品",ref:"search",style:{width:"90%",height:"44px"}},H={for:"input",class:"border-0"},J={style:{width:"15%"}},K=i(()=>t("option",{value:"所有產品"},"所有產品",-1)),O=i(()=>t("option",{value:"平板"},"平板",-1)),R=i(()=>t("option",{value:"手機"},"手機",-1)),W=i(()=>t("option",{value:"筆電"},"筆電",-1)),X=[K,O,R,W],Y={class:"pt-32",style:{width:"20%"}},Z=["src"],tt={class:"pt-32",style:{width:"70%"}},et={class:"mb-16 fs-16 fs-md-24 text-dark"},st={class:"d-none d-md-block",style:{color:"#8e8e8e"}},ot={class:"pt-32 fs-lg-24 fw-bold text-danger"},it=i(()=>t("p",{class:""},"特價：",-1)),at={class:"mb-16"},nt=["value"],ct=["onClick"],rt=i(()=>t("i",{class:"bi bi-cart-fill"},null,-1)),lt=i(()=>t("button",{class:"btn btn-footer hover",style:{width:"100%"}},[t("i",{class:"bi bi-heart-fill"}),f("  加入追蹤 ")],-1)),dt={key:0,class:"container"},ht=i(()=>t("p",{class:"pt-32 mb-32 text-center"},"找不到該產品",-1)),ut={class:"container d-flex justify-content-center"},_t=i(()=>t("p",{class:"fs-48 d-md-none text-center mb-16"},"所有產品",-1)),pt={class:"container d-md-none d-flex justify-content-between mb-16"},ft={class:"rounded border-2 py-0 bg-footer d-flex justify-content-between align-items-center",style:{height:"48px",width:"50%"}},gt={type:"text",class:"rounded border-2 border-footer bg-footer py-0 px-0",placeholder:"搜尋產品",ref:"searchMobile",style:{width:"90%",height:"44px"}},bt={for:"input",class:"border-0"},yt={name:"",class:"btn btn-footer fs-12",ref:"select",style:{width:"40%"}},mt=i(()=>t("option",{value:"所有產品"},"所有產品",-1)),vt=i(()=>t("option",{value:"平板"},"平板",-1)),Pt=i(()=>t("option",{value:"手機"},"手機",-1)),xt=i(()=>t("option",{value:"筆電"},"筆電",-1)),kt=[mt,vt,Pt,xt],wt=i(()=>t("hr",null,null,-1)),Ct=["onClick"],Tt={class:"mb-24 py-16 px-16"},jt=["src"],$t={class:"d-flex flex-column justify-content-between px-32"},Nt={class:"mb-16 text-dark"},Mt={class:"mb-16 text-danger fw-bold"},qt={class:"mb-16",style:{color:"#8e8e8e"}},Bt={class:"container d-flex justify-content-between px-0 mb-16"},It=["value"],St=["onClick"],Ft=i(()=>t("i",{class:"bi bi-cart-fill"},null,-1)),Qt=["onClick"],Lt=i(()=>t("i",{class:"bi bi-heart-fill"},null,-1)),Vt={key:0,class:"container d-md-none"},Ut=i(()=>t("p",{class:"pt-32 mb-32 text-center"},"找不到該產品",-1)),zt={class:"container d-flex justify-content-center"},At={class:"container px-0 pt-32"},Dt={class:"container-fluid px-0"};function Et(o,e,Gt,Ht,d,a){const v=p("NavBar"),b=p("router-link"),P=p("PageNation"),x=p("PageFooter");return c(),r(h,null,[t("div",S,[u(v)]),t("div",F,[t("div",Q,[t("div",L,[t("div",V,[U,t("table",z,[t("thead",null,[t("tr",null,[A,t("th",D,[t("div",E,[t("input",G,null,512),t("button",H,[t("i",{class:"bi bi-search fs-12 fs-md-16 fs-lg-24 pe-8 text-dark",onClick:e[0]||(e[0]=(...s)=>a.searchProduct&&a.searchProduct(...s))})])])]),t("th",J,[t("select",{name:"",id:"",class:"rounded border-2 btn btn-footer",style:{width:"132px",height:"48px"},ref:"type",onChange:e[1]||(e[1]=(...s)=>a.changeProductType&&a.changeProductType(...s))},X,544)])])]),t("tbody",null,[(c(!0),r(h,null,_(d.userProducts,s=>(c(),r("tr",{key:s.id},[t("td",Y,[t("img",{src:s.imageUrl,alt:"商品圖片",style:{height:"240px",width:"240px","object-fit":"cover"},class:"mb-16"},null,8,Z)]),t("td",tt,[u(b,{to:`/userProductInfo/${s.id}`},{default:m(()=>[t("h5",et,l(s.title),1)]),_:2},1032,["to"]),t("p",st," 產品描述："+l(s.description),1)]),t("td",ot,[it,t("p",at,l(s.price),1),t("select",{class:"rounded border-2 mb-16",name:"num",style:{width:"100%"},ref_for:!0,ref:"qty",onChange:e[2]||(e[2]=(...n)=>a.changeQty&&a.changeQty(...n))},[(c(),r(h,null,_(10,n=>t("option",{value:n,key:n},l(n),9,nt)),64))],544),t("button",{class:"btn btn-footer hover mb-16 color",style:{width:"100%"},onClick:n=>a.addToCart(s.id)},[rt,f(" 加入購物車 ")],8,ct),lt])]))),128))]),d.searchProducts.length===0?(c(),r("div",dt,[ht,t("div",ut,[t("button",{class:"btn btn-footer w-50",onClick:e[3]||(e[3]=(...s)=>a.backToPreviousPage&&a.backToPreviousPage(...s))}," 返回上一頁 ")])])):g("",!0)]),_t,t("div",pt,[t("div",ft,[t("input",gt,null,512),t("button",bt,[t("i",{class:"bi bi-search fs-12 fs-md-16 fs-lg-24 pe-8 text-dark",onClick:e[4]||(e[4]=(...s)=>a.searchProductMobile&&a.searchProductMobile(...s))})])]),t("select",yt,kt,512),wt]),(c(!0),r(h,null,_(d.userProducts,s=>(c(),r("div",{class:"d-md-none d-flex justify-content-between",key:s.id,onClick:n=>d.tempProduct=s},[t("div",Tt,[t("img",{src:s.imageUrl,alt:"商品圖片",style:{height:"280px",width:"95%","object-fit":"cover"},class:"mb-16"},null,8,jt),t("div",$t,[u(b,{to:`/userProductInfo/${s.id}`,target:"_blank"},{default:m(()=>[t("h5",Nt,l(s.title),1)]),_:2},1032,["to"]),t("p",Mt," 特價："+l(s.price)+" 元 ",1),t("p",qt,l(s.description),1),t("div",Bt,[t("select",{class:"btn btn-footer fs-14",style:{width:"45%"},ref_for:!0,ref:"qty",onChange:e[5]||(e[5]=(...n)=>a.changeQty&&a.changeQty(...n))},[(c(),r(h,null,_(10,n=>t("option",{value:n,key:n},l(n),9,It)),64))],544),t("button",{class:"btn btn-footer fs-14 hover",style:{width:"45%"},onClick:n=>a.addToCart(s.id)},[Ft,f(" 加入購物車 ")],8,St)]),t("button",{class:"btn btn-footer fs-14 hover",style:{width:"100%"},onClick:n=>a.addToCart(s.id)},[Lt,f(" 加入追蹤 ")],8,Qt)])])],8,Ct))),128)),d.searchProducts.length===0?(c(),r("div",Vt,[Ut,t("div",zt,[t("button",{class:"btn btn-footer w-50",onClick:e[6]||(e[6]=(...s)=>a.backToPreviousPage&&a.backToPreviousPage(...s))}," 返回上一頁 ")])])):g("",!0)])])]),t("div",At,[d.userProducts.length!==0?(c(),N(P,{key:0,class:"d-flex justify-content-center",pagination:d.pagination,"get-page-products":a.getProducts},null,8,["pagination","get-page-products"])):g("",!0)])]),t("div",Dt,[u(x)])],64)}const Wt=T(I,[["render",Et],["__scopeId","data-v-c293cbf8"]]);export{Wt as default};
