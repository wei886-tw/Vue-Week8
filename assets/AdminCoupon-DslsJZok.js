import{A as g}from"./AdminNavBar-moKxhPdd.js";import{_ as y,c as r,b as i,a as t,w as x,F as u,f as C,i as a,v as d,r as c,o as p,d as w,g as l}from"./index-D9ZRs92O.js";const k={components:{AdminNavBar:g},data(){return{api_path:"wei123",url:"https://vue3-course-api.hexschool.io",title:"",is_enabled:"",percent:"",due_date:"",code:""}},methods:{createCoupon(){this.date=new Date(this.date).getTime(),this.is_enabled=parseInt(this.is_enabled),this.$http.post(`${this.url}/v2/api/${this.api_path}/admin/coupon`,{data:{title:this.title,is_enabled:this.is_enabled,percent:this.percent,due_date:this.due_date,code:this.code}}).then(s=>{console.log(s)}).catch(s=>{console.log(s.response.data.message)})}},mounted(){new bootstrap.Modal(this.$refs.couponModal).show()}},A={class:"container-fluid px-0"},V={class:"container py-48"},M={class:"container d-flex justify-content-between mb-24"},U=t("h2",{class:"fs-32"},"文章管理",-1),B={type:"button",class:"btn btn-dark"},N={class:"table mb-162"},D=t("thead",null,[t("tr",null,[t("th",{scope:"col"},"優惠券標題"),t("th",{scope:"col"},"折價"),t("th",{scope:"col"},"到期日"),t("th",{scope:"col"},"代碼"),t("th",{scope:"col"},"是否啟用"),t("th",{scope:"col"},"修改"),t("th",{scope:"col"},"刪除")])],-1),P=["onClick"],T=["onClick"],j={class:"container"},F={class:"modal",tabindex:"-1",ref:"couponModal"},S={class:"modal-dialog modal-dialog-centered modal-dialog-scrollable"},E={class:"modal-content"},I=t("div",{class:"modal-header"},[t("h5",{class:"modal-title"},"建立優惠券"),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),L={class:"modal-body"},q={class:"form-group mb-16"},z=t("label",{for:"title",class:"form-label"},"優惠券名稱",-1),G={class:"form-group mb-16"},H=t("label",{for:"percent",class:"form-label"},"折扣",-1),J={class:"form-group mb-16"},K=t("label",{for:"due_date",class:"form-label"},"到期日",-1),O={class:"form-group mb-16"},Q=t("label",{for:"code",class:"form-label"},"優惠券代碼",-1),R={class:"form-group mb-16"},W=t("label",{for:"is_enabled",class:"form-label"},"是否啟用優惠券",-1),X={class:"modal-footer"},Y=t("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Close ",-1),Z={class:"container"};function $(s,o,tt,et,n,_){const m=c("admin-nav-bar"),b=c("router-link"),h=c("page-nation"),f=c("router-view");return p(),r(u,null,[i(m),t("div",A,[t("div",V,[t("div",M,[U,t("button",B,[i(b,{to:"/newArticle",class:"text-white"},{default:x(()=>[w("建立優惠券")]),_:1})])]),t("table",N,[D,t("tbody",null,[(p(!0),r(u,null,C(s.articles,e=>(p(),r("tr",{key:e.id},[t("td",null,l(e.title),1),t("td",null,l(e.author),1),t("td",null,l(e.author),1),t("td",null,l(e.author),1),t("td",null,l(e.author),1),t("td",null,l(e.isPublic?"是":"否"),1),t("td",null,[t("button",{class:"btn btn-success",onClick:v=>s.goAdviseArticle(e.id)}," 修改文章 ",8,P)]),t("td",null,[t("button",{class:"btn btn-danger",onClick:v=>s.deleteArticle(e.id)}," 刪除文章 ",8,T)])]))),128))])]),t("div",j,[i(h,{pagination:s.blogPagination,"get-page-products":s.getPageArticle,class:"d-flex justify-content-end"},null,8,["pagination","get-page-products"])])])]),t("div",F,[t("div",S,[t("div",E,[I,t("div",L,[t("div",q,[z,a(t("textarea",{id:"title","onUpdate:modelValue":o[0]||(o[0]=e=>n.title=e),type:"text",class:"form-control",placeholder:"請輸入優惠券名稱"},`
            `,512),[[d,n.title]])]),t("div",G,[H,a(t("textarea",{id:"percent","onUpdate:modelValue":o[1]||(o[1]=e=>n.percent=e),type:"number",class:"form-control",placeholder:"請輸入折扣"},`
            `,512),[[d,n.percent]])]),t("div",J,[K,a(t("textarea",{id:"due_date","onUpdate:modelValue":o[2]||(o[2]=e=>n.due_date=e),type:"text",class:"form-control",placeholder:"請輸入到期日，按照'年-月-日'格式"},`
            `,512),[[d,n.due_date]])]),t("div",O,[Q,a(t("textarea",{id:"code","onUpdate:modelValue":o[3]||(o[3]=e=>n.code=e),type:"text",class:"form-control",placeholder:"請輸入優惠券代碼"},`
            `,512),[[d,n.code]])]),t("div",R,[W,a(t("textarea",{id:"is_enabled","onUpdate:modelValue":o[4]||(o[4]=e=>n.is_enabled=e),type:"number",class:"form-control",placeholder:""},`
            `,512),[[d,n.is_enabled]])])]),t("div",X,[Y,t("button",{type:"button",class:"btn btn-primary",onClick:o[5]||(o[5]=(...e)=>_.createCoupon&&_.createCoupon(...e))},"Save changes")])])])],512),t("div",Z,[i(f)])],64)}const nt=y(k,[["render",$]]);export{nt as default};
