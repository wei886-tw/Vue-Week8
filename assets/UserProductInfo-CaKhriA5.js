import{N as f}from"./NavBar-BZVItRxQ.js";import{_ as v,c as n,b as p,a as t,F as a,h,t as i,i as y,w as x,r as _,o as l,e as b,p as w,f as C}from"./index-DTsRfrv9.js";const k={components:{NavBar:f},props:["id"],data(){return{url:"https://vue3-course-api.hexschool.io",api_path:"wei123",product:{},qty:1}},methods:{getProduct(e){this.$http.get(`${this.url}/v2/api/${this.api_path}/product/${e}`).then(c=>{this.product=c.data.product}).catch(c=>{console.log(c.response.data.message)})},changeQty(){this.qty=parseInt(this.$refs.selectNum.value)},addToCart(e){this.$http.post(`${this.url}/v2/api/${this.api_path}/cart`,{data:{product_id:e,qty:this.qty}}).then(()=>{alert("成功加入購物車")}).catch(c=>{console.log(c)})},changeImg(e){this.product.imageUrl=this.product.imagesUrl[e]},loadingCircle(){let e=this.$loading.show({container:this.fullPage?null:this.$refs.formContainer,canCancel:!0,onCancel:this.onCancel});setTimeout(()=>{e.hide()},500)}},mounted(){this.getProduct(this.id),this.loadingCircle()}},N=e=>(w("data-v-06551792"),e=e(),C(),e),I={class:"container-fluid"},q={class:"container py-32"},B={key:0,class:"row g-16 mb-48"},U={class:"col-lg-2 d-none d-lg-flex flex-lg-column"},P={class:"container pt-60"},S=["src","onClick"],T={class:"col-12 col-lg-6"},V=["src"],j={class:"col-12 d-lg-none d-sm-flex flex-sm-row"},Q={class:"container pt-60"},F=["src","onClick"],D={class:"col-12 col-lg-4"},E={class:"container d-flex flex-column justify-content-between pt-80"},L={class:"fs-24 fs-lg-48 fw-bold"},z={class:"mb-16 new-line",style:{color:"#8e8e8e"}},A={class:"mb-16 new-line"},G={class:"container d-flex px-0 mb-16"},H={class:"fs-lg-20 text-danger me-36"},J={class:"fs-lg-20"},K={class:"container px-0 d-flex justify-content-between"},M=["value"],O={class:"row"},R=N(()=>t("div",{class:"col-10"},[t("p",{class:"fs-lg-48"},"相似產品")],-1)),W={class:"col-2"};function X(e,c,Y,Z,s,r){const u=_("NavBar"),g=_("router-link");return l(),n(a,null,[p(u),t("div",I,[t("div",q,[s.product?(l(),n("div",B,[t("div",U,[t("div",P,[(l(!0),n(a,null,h(s.product.imagesUrl,(o,d)=>(l(),n("img",{src:o,alt:"多圖",style:{width:"100%",height:"120px"},onClick:m=>r.changeImg(d),key:o,class:"mb-36 border border-4 border-hover"},null,8,S))),128))])]),t("div",T,[t("img",{src:s.product.imageUrl,alt:"首圖",style:{width:"100%",height:"100%","object-fit":"cover"}},null,8,V)]),t("div",j,[t("div",Q,[(l(!0),n(a,null,h(s.product.imagesUrl,(o,d)=>(l(),n("img",{src:o,alt:"多圖",style:{width:"20%"},onClick:m=>r.changeImg(d),key:o,class:"me-36 border border-4"},null,8,F))),128))])]),t("div",D,[t("div",E,[t("h1",L,i(s.product.title),1),t("p",z,i(s.product.description),1),t("p",A,i(s.product.content),1),t("div",G,[t("p",H," 特價： "+i(s.product.price*s.qty),1),t("span",J,[t("del",null,"原價： "+i(s.product.origin_price*s.qty),1)])]),t("div",K,[t("select",{name:"num",id:"num",style:{width:"40%"},ref:"selectNum",onChange:c[0]||(c[0]=(...o)=>r.changeQty&&r.changeQty(...o))},[(l(),n(a,null,h(10,o=>t("option",{value:o,key:o},i(o),9,M)),64))],544),t("button",{class:"btn btn-primary",style:{width:"40%"},onClick:c[1]||(c[1]=o=>r.addToCart(s.product.id))}," 加入購物車 ")])])])])):y("",!0),t("div",O,[R,t("div",W,[p(g,{to:"/userProduct",class:"fs-lg-24 text-dark"},{default:x(()=>[b("瀏覽更多")]),_:1})])])])])],64)}const et=v(k,[["render",X],["__scopeId","data-v-06551792"]]);export{et as default};
