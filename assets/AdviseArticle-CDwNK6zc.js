import{A as _}from"./AdminNavBar-1hIXrcDO.js";import{U as g}from"./UploadImageModal-BfRs37E9.js";import{_ as f,c as b,b as r,a as t,i as l,v as n,l as v,t as y,F as x,o as U,p as w,f as k,d as c,r as d}from"./index-Djt5uYPB.js";const V={props:["id"],components:{AdminNavBarVue:_,UploadImageModalVue:g},data(){return{myModal:null,tempArticleInfo:{imageUrl:""},imageUrl:"",title:"",content:"",author:"",tag:[],description:"",articleCategory:"",isPublic:!0,create_at:"",url:"https://vue3-course-api.hexschool.io",api_path:"wei123"}},methods:{getUrl(s){this.imageUrl=s},getArticle(s){this.$http.get(`${this.url}/v2/api/${this.api_path}/article/${s}`).then(e=>{this.article=e.data.article,this.title=e.data.article.title,this.create_at=e.data.article.create_at,this.description=e.data.article.description,this.isPublic=e.data.article.isPublic,this.tag=e.data.article.tag,this.author=e.data.article.author,this.content=e.data.article.content,this.imageUrl=e.data.article.image}).catch(e=>{console.log(e.response.data.message)})},adviseArticle(s){this.$http.put(`${this.url}/v2/api/${this.api_path}/admin/article/${s}`,{data:{title:this.title,description:this.description,image:this.imageUrl,tag:this.tag,create_at:this.create_at,author:this.author,isPublic:this.isPublic,content:this.content}}).then(()=>{alert("修改文章成功")}).catch(e=>{console.log(e.response.data.message)})}},mounted(){this.getArticle(this.id),this.getUrl()}},o=s=>(w("data-v-ac9dc615"),s=s(),k(),s),A={class:"container-fluid"},C={class:"container py-48",id:"id"},I=o(()=>t("h2",{class:"fs-40 mb-32 text-center"},"修改文章",-1)),P={ref:"form"},B={class:"row justify-content-center"},M={class:"col-10"},N=o(()=>t("label",{class:"fs-24 mb-8",for:"title"},[c("文章標題"),t("span",{class:"text-danger"},"*")],-1)),S={class:"row mb-32 justify-content-center"},j={class:"col-5"},D=o(()=>t("label",{class:"fs-24",for:"author"},[c(" 文章作者"),t("span",{class:"text-danger"},"*")],-1)),F={class:"col-5"},T=o(()=>t("label",{class:"fs-24",for:"articleCategory"},[c(" 文章分類"),t("span",{class:"text-danger"},"*")],-1)),E=o(()=>t("p",null,[c(" 點擊帶入文章分類： "),t("button",{class:"btn btn-gray me-8"},"最新消息"),t("button",{class:"btn btn-gray me-8"},"活動消息"),t("button",{class:"btn btn-gray me-8"},"本站獨家")],-1)),$={class:"row justify-content-center"},q={class:"col-5 d-flex flex-column justify-content-between align-items-start"},z=o(()=>t("h3",{class:"fs-24"},"文章發佈狀態",-1)),G={class:"form-check form-switch"},H={class:"form-check-label",for:"flexSwitchCheckDefault"},J={class:"col-5"},K=o(()=>t("p",{class:"fs-24"},"圖片預覽",-1)),L=["src"];function O(s,e,h,Q,i,p){const u=d("AdminNavBarVue"),m=d("UploadImageModalVue");return U(),b(x,null,[r(u),t("div",A,[t("div",C,[I,t("form",P,[t("div",B,[t("div",M,[N,l(t("input",{type:"text",class:"rounded mb-32 form-check-input",style:{width:"100%",height:"40px"},"onUpdate:modelValue":e[0]||(e[0]=a=>i.title=a),name:"title",id:"title"},null,512),[[n,i.title]])])]),t("div",S,[t("div",j,[D,l(t("input",{type:"text",class:"rounded mb-32 form-check-input",style:{width:"100%",height:"40px"},placeholder:"請填入作者",name:"author",id:"author","onUpdate:modelValue":e[1]||(e[1]=a=>i.author=a)},null,512),[[n,i.author]])]),t("div",F,[T,l(t("input",{type:"text",class:"rounded mb-16 form-check-input",style:{width:"100%",height:"40px"},placeholder:"請填入文章分類",name:"articleCategory",id:"articleCategory","onUpdate:modelValue":e[2]||(e[2]=a=>i.articleCategory=a)},null,512),[[n,i.articleCategory]]),E])]),t("div",$,[t("div",q,[z,t("div",G,[l(t("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheckDefault","onUpdate:modelValue":e[3]||(e[3]=a=>i.isPublic=a)},null,512),[[v,i.isPublic]]),t("label",H,y(i.isPublic?"文章公開":"文章不公開"),1)]),r(m),t("button",{type:"button",class:"btn btn-gray w-100",onClick:e[4]||(e[4]=a=>p.adviseArticle(h.id))}," 修改文章 ")]),t("div",J,[K,t("img",{src:i.imageUrl,alt:"",style:{width:"416px",height:"440px","object-fit":"cover"}},null,8,L)])])],512)])])],64)}const Y=f(V,[["render",O],["__scopeId","data-v-ac9dc615"]]);export{Y as default};
