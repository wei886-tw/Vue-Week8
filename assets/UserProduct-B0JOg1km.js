import{P as g}from"./PageFooter-Bw7rOWM2.js";import{N as v}from"./NavBar-BDOPfU27.js";import{_ as b,c as i,b as _,a as t,F as l,d as p,e as y,t as o,f,o as d,w as x,r as h}from"./index-6DueXC6K.js";const P={data(){return{userProducts:[],api:"https://vue3-course-api.hexschool.io",api_path:"wei123",myModal:null,tempProduct:{}}},props:[],components:{PageFooter:g,NavBar:v},methods:{getProducts(){this.$http.get(`${this.api}/api/${this.api_path}/products/all`).then(n=>{this.userProducts=n.data.products})},addToCart(n){this.$http.post(`${this.api}/v2/api/${this.api_path}/cart`,{data:{product_id:n,qty:1}}).then(()=>{alert("成功加入購物車")}).catch(c=>{console.log(c)})},openModal(){this.myModal.show(),console.log(this.cartList)}},mounted(){this.getProducts(),this.myModal=new bootstrap.Modal("#myModal"),this.openModal()}},w={class:"container-fluid py-48 bg-footer"},M={class:"container pt-60"},k={class:"row"},C=["onClick"],N={class:"card mb-24 py-16 px-16",style:{width:"18rem",height:"36rem"}},F=["src"],j={class:"card-body d-flex flex-column justify-content-between"},B={class:"card-title"},T={class:"card-text"},U={class:"card-text"},V={class:"container px-0"},L=["onClick"],q={class:"container"},D={class:"row"},E={class:"col-md-6"},S={class:"modal",tabindex:"-1",ref:"myModal",id:"myModal",style:{height:"80%"}},z={class:"modal-dialog modal-dialog-center"},A={class:"modal-content"},G={key:0},H={class:"card"},I=["src"],J={class:"card-body"},K={class:"card-title"},O={class:"badge bg-footer ms-2 text-white"},Q={class:"card-text"},R={class:"card-text"},W={class:"container px-0"},X=["src"],Y={class:"container-fluid px-0"};function Z(n,c,$,tt,s,a){const m=h("nav-bar"),u=h("PageFooter");return d(),i(l,null,[_(m),t("div",w,[t("div",M,[t("div",k,[(d(!0),i(l,null,p(s.userProducts,e=>(d(),i("div",{class:"col-12 col-md-6 col-lg-4 d-flex justify-content-center",key:e.id,onClick:r=>s.tempProduct=e},[t("div",N,[t("img",{src:e.imageUrl,class:"card-img-top",alt:"商品圖片",style:{height:"384px",width:"90%","object-fit":"cover"}},null,8,F),t("div",j,[t("h5",B,"產品名稱："+o(e.title),1),t("p",T,"產品描述："+o(e.description),1),t("p",U,"特價："+o(e.price)+" 元",1),t("div",V,[t("button",{class:"btn btn-sm border border-2 me-12",onClick:x(r=>a.addToCart(e.id),["prevent"])}," 加入購物車 ",8,L),t("button",{class:"btn btn-sm border border-2",onClick:c[0]||(c[0]=(...r)=>a.openModal&&a.openModal(...r))}," 詳細資訊 ")])])])],8,C))),128))])])]),t("div",q,[t("div",D,[t("div",E,[t("div",S,[t("div",z,[t("div",A,[s.tempProduct.title?(d(),i("div",G,[t("div",H,[t("img",{src:s.tempProduct.imageUrl,class:"card-img-top primary-image img ps-128 pt-16",alt:"主圖",style:{height:"384px",width:"80%","object-fit":"cover"}},null,8,I),t("div",J,[t("h5",K,[y(o(s.tempProduct.title)+" ",1),t("span",O,o(s.tempProduct.category),1)]),t("p",Q," 商品描述："+o(s.tempProduct.description),1),t("p",R,"商品內容："+o(s.tempProduct.content),1),t("p",null,"特價： "+o(s.tempProduct.price)+" 元",1),t("div",W,[t("button",{class:"btn btn-outline-primary me-0",onClick:c[1]||(c[1]=e=>a.addToCart(s.tempProduct.id))},"加入購物車")])])]),t("div",null,[(d(!0),i(l,null,p(s.tempProduct.imagesUrl,(e,r)=>(d(),i("span",{key:r},[t("img",{src:e,alt:"副圖",class:"images m-2 img",style:{height:"150px"}},null,8,X)]))),128))])])):f("",!0)])])],512)])])]),t("div",Y,[_(u)])],64)}const ct=b(P,[["render",Z]]);export{ct as default};
