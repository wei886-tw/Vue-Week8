import{A as m}from"./AdminNavBar-DAs3BfRT.js";import{U as _}from"./UploadImageModal-CMu7Z5Bi.js";import{_ as g,c as f,b as n,a as t,i,v as c,l as b,g as v,F as x,d as a,o as y,r}from"./index-DtRc9h0J.js";const U={props:["id"],components:{AdminNavBarVue:m,UploadImageModalVue:_},data(){return{myModal:null,tempArticleInfo:{imageUrl:""},imageUrl:"",title:"",content:"",author:"",tag:[],description:"",articleCategory:"",isPublic:!0,create_at:"",url:"https://vue3-course-api.hexschool.io",api_path:"wei123"}},methods:{getUrl(l){this.imageUrl=l},getArticle(l){this.$http.get(`${this.url}/v2/api/${this.api_path}/article/${l}`).then(e=>{this.article=e.data.article,this.title=e.data.article.title,this.create_at=e.data.article.create_at,this.description=e.data.article.description,this.isPublic=e.data.article.isPublic,this.tag=e.data.article.tag,this.author=e.data.article.author,this.content=e.data.article.content,this.imageUrl=e.data.article.imageUrl}).catch(e=>{console.log(e.response.data.message)})},adviseArticle(l){this.$http.put(`${this.url}/v2/api/${this.api_path}/admin/article/${l}`,{data:{title:this.title,description:this.description,image:this.imageUrl,tag:this.tag,create_at:this.create_at,author:this.author,isPublic:this.isPublic,content:this.content}}).then(()=>{alert("修改文章成功")}).catch(e=>{console.log(e.response.data.message)})}},mounted(){this.getArticle(this.id),this.getUrl()}},k={class:"container-fluid"},w={class:"container py-48",id:"id"},V=t("h2",{class:"fs-40 mb-32"},"修改文章",-1),C={ref:"form"},A={class:"row"},P={class:"col"},B=t("label",{class:"fs-24 mb-8",for:"title"},[a("文章標題"),t("span",{class:"text-danger"},"*")],-1),M={class:"row"},N={class:"col-6"},D=t("label",{class:"fs-24",for:"author"},[a(" 文章作者"),t("span",{class:"text-danger"},"*")],-1),I={class:"col-6"},S=t("label",{class:"fs-24",for:"articleCategory"},[a(" 文章分類"),t("span",{class:"text-danger"},"*")],-1),F=t("p",null,[a(" 點擊帶入文章分類： "),t("button",{class:"btn btn-gray me-8"},"最新消息"),t("button",{class:"btn btn-gray me-8"},"活動講座"),t("button",{class:"btn btn-gray me-8"},"專欄講座")],-1),T={class:"row mb-24"},j={class:"col"},E=t("label",{class:"fs-24",for:"tag"},[a("文章標籤"),t("span",{class:"text-danger"},"*")],-1),q={class:"form-group"},z=t("label",{class:"fs-24 form-label",for:"description"},[a("文章簡述"),t("span",{class:"text-danger"},"*")],-1),G={class:"form-group"},H=t("label",{class:"fs-24 form-label",for:"content"},[a("文章內容"),t("span",{class:"text-danger"},"*")],-1),J=t("h3",{class:"fs-24 mb-16"},"封面圖片",-1),K={class:"card mb-32",style:{width:"240px"}},L=["src"],O={class:"card-body"},Q={class:"row"},R={class:"col-6"},W=t("h3",{class:"fs-24"},"文章發佈狀態",-1),X={class:"form-check form-switch"},Y={class:"form-check-label",for:"flexSwitchCheckDefault"},Z={class:"col-6 d-flex justify-content-end"};function $(l,e,d,tt,s,h){const p=r("admin-nav-bar-vue"),u=r("upload-image-modal-vue");return y(),f(x,null,[n(p),t("div",k,[t("div",w,[V,t("form",C,[t("div",A,[t("div",P,[B,i(t("input",{type:"text",class:"rounded mb-32 form-check-input",style:{width:"100%",height:"40px"},"onUpdate:modelValue":e[0]||(e[0]=o=>s.title=o),name:"title",id:"title"},null,512),[[c,s.title]])])]),t("div",M,[t("div",N,[D,i(t("input",{type:"text",class:"rounded mb-32 form-check-input",style:{width:"100%",height:"40px"},placeholder:"請填入作者",name:"author",id:"author","onUpdate:modelValue":e[1]||(e[1]=o=>s.author=o)},null,512),[[c,s.author]])]),t("div",I,[S,i(t("input",{type:"text",class:"rounded mb-16 form-check-input",style:{width:"100%",height:"40px"},placeholder:"請填入文章分類",name:"articleCategory",id:"articleCategory","onUpdate:modelValue":e[2]||(e[2]=o=>s.articleCategory=o)},null,512),[[c,s.articleCategory]]),F])]),t("div",T,[t("div",j,[E,i(t("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=o=>s.tag=o),class:"rounded mb-24 form-check-input",name:"tag",id:"tag",style:{width:"100%",height:"40px"},placeholder:"請填入文章標籤"},null,512),[[c,s.tag]]),t("div",q,[z,i(t("textarea",{"onUpdate:modelValue":e[4]||(e[4]=o=>s.description=o),class:"rounded mb-24 form-check-input form-control",type:"text",style:{width:"100%",height:"120px"},placeholder:"請填入 100 字內描述",id:"description"},null,512),[[c,s.description]])]),t("div",G,[H,i(t("textarea",{type:"text","onUpdate:modelValue":e[5]||(e[5]=o=>s.content=o),class:"rounded mb-24 form-check-input form-control",style:{width:"100%",height:"240px"},placeholder:"請輸入文章內容",id:"content"},null,512),[[c,s.content]])])])]),J,t("div",K,[t("img",{src:s.imageUrl,class:"card-img-top"},null,8,L),t("div",O,[n(u)])]),t("div",Q,[t("div",R,[W,t("div",X,[i(t("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheckDefault","onUpdate:modelValue":e[6]||(e[6]=o=>s.isPublic=o)},null,512),[[b,s.isPublic]]),t("label",Y,v(s.isPublic?"文章公開":"文章不公開"),1)])]),t("div",Z,[t("button",{class:"btn btn-dark",onClick:e[7]||(e[7]=o=>h.adviseArticle(d.id))}," 修改文章 ")])])],512)])])],64)}const it=g(U,[["render",$]]);export{it as default};
