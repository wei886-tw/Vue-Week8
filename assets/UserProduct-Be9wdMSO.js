import{P as b}from"./PageFooter-xR6dgXl-.js";import{N as g}from"./NavBar-COrsxw1_.js";import{_ as v,c as i,b as _,a as t,F as l,d as h,e as y,t as o,f,o as d,w as x,r as p}from"./index-C90jNCr8.js";const P={data(){return{userProducts:[],api:"https://vue3-course-api.hexschool.io",api_path:"wei123",myModal:null,tempProduct:{}}},props:[],components:{PageFooter:b,NavBar:g},methods:{getProducts(){this.$http.get(`${this.api}/api/${this.api_path}/products/all`).then(a=>{this.userProducts=a.data.products})},addToCart(a){this.$http.post(`${this.api}/v2/api/${this.api_path}/cart`,{data:{product_id:a,qty:1}}).then(()=>{alert("成功加入購物車")}).catch(c=>{console.log(c)})},openModal(){this.myModal.show()}},mounted(){this.getProducts(),this.myModal=new bootstrap.Modal("#myModal")}},w={class:"container-fluid py-48 bg-footer"},C={class:"container pt-60"},k={class:"row"},M=["onClick"],N={class:"card mb-24 py-16 px-16",style:{width:"18rem",height:"36rem"}},j=["src"],F={class:"card-body d-flex flex-column justify-content-between"},B={class:"card-title"},T={class:"card-text"},U={class:"card-text"},V={class:"container px-0"},q=["onClick"],D={class:"container"},E={class:"row"},L={class:"col-md-6"},S={class:"modal",tabindex:"-1",ref:"myModal",id:"myModal"},z={class:"modal-dialog modal-dialog-centered modal-dialog-scrollable"},A={class:"modal-content"},G=t("div",{class:"container"},null,-1),H={key:0},I={class:"card"},J=["src"],K={class:"card-body"},O={class:"card-title"},Q={class:"badge bg-footer ms-2 text-white"},R={class:"card-text"},W={class:"card-text"},X={class:"container px-0"},Y={class:"container d-flex justify-content-between"},Z=t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),$=["src"],tt={class:"container-fluid px-0"};function st(a,c,et,ot,s,r){const m=p("nav-bar"),u=p("PageFooter");return d(),i(l,null,[_(m),t("div",w,[t("div",C,[t("div",k,[(d(!0),i(l,null,h(s.userProducts,e=>(d(),i("div",{class:"col-12 col-md-6 col-lg-4 d-flex justify-content-center",key:e.id,onClick:n=>s.tempProduct=e},[t("div",N,[t("img",{src:e.imageUrl,class:"card-img-top",alt:"商品圖片",style:{height:"384px",width:"100%","object-fit":"cover"}},null,8,j),t("div",F,[t("h5",B,"產品名稱："+o(e.title),1),t("p",T,"產品描述："+o(e.description),1),t("p",U,"特價："+o(e.price)+" 元",1),t("div",V,[t("button",{class:"btn btn-sm border border-2 me-12",onClick:x(n=>r.addToCart(e.id),["prevent"])}," 加入購物車 ",8,q),t("button",{class:"btn btn-sm border border-2",onClick:c[0]||(c[0]=(...n)=>r.openModal&&r.openModal(...n))}," 詳細資訊 ")])])])],8,M))),128))])])]),t("div",D,[t("div",E,[t("div",L,[t("div",S,[t("div",z,[t("div",A,[G,s.tempProduct.title?(d(),i("div",H,[t("div",I,[t("img",{src:s.tempProduct.imageUrl,class:"card-img-top primary-image img ps-128 pt-16",alt:"主圖",style:{height:"50%",width:"80%","object-fit":"cover"}},null,8,J),t("div",K,[t("h5",O,[y(o(s.tempProduct.title)+" ",1),t("span",Q,o(s.tempProduct.category),1)]),t("p",R," 商品描述："+o(s.tempProduct.description),1),t("p",W,"商品內容："+o(s.tempProduct.content),1),t("p",null,"特價： "+o(s.tempProduct.price)+" 元",1),t("div",X,[t("div",Y,[t("button",{class:"btn border border-2 me-0",onClick:c[1]||(c[1]=e=>r.addToCart(s.tempProduct.id))}," 加入購物車 "),Z])])])]),t("div",null,[(d(!0),i(l,null,h(s.tempProduct.imagesUrl,(e,n)=>(d(),i("span",{key:n},[t("img",{src:e,alt:"副圖",class:"images m-2 img",style:{height:"150px"}},null,8,$)]))),128))])])):f("",!0)])])],512)])])]),t("div",tt,[_(u)])],64)}const nt=v(P,[["render",st]]);export{nt as default};
