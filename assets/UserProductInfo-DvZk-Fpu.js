import{N as f,P as y,c as p}from"./NavBar-D0ILl3Pc.js";import{m as x}from"./mixin-CE07gU2g.js";import{_ as b,t as C,u as w,l as c,j as t,i as _,F as a,v as h,y as r,x as k,e as n,k as u}from"./index-5y_Diymh.js";const N={components:{NavBar:f,PageFooter:y},props:["id"],mixins:[x],data(){return{url:"https://vue3-course-api.hexschool.io",api_path:"wei123",product:{},qty:1}},computed:{...C(p,["storeCart"])},methods:{...w(p,["getCartList"]),getProduct(i){this.$http.get(`${this.url}/v2/api/${this.api_path}/product/${i}`).then(o=>{this.product=o.data.product}).catch(o=>{console.log(o.response.data.message)})},changeQty(){this.qty=parseInt(this.$refs.selectNum.value)},addToCart(i){this.$http.post(`${this.url}/v2/api/${this.api_path}/cart`,{data:{product_id:i,qty:this.qty}}).then(()=>{this.getCartList(),alert("成功加入購物車")}).catch(o=>{console.log(o)})},changeImg(i){this.product.imageUrl=this.product.imagesUrl[i]}},mounted(){this.getProduct(this.id),this.loadingCircle()}},P={class:"container-fluid px-0"},q={class:"container-fluid"},B={class:"container py-32"},I={key:0,class:"row g-16 mb-48"},U={class:"col-lg-2 d-none d-lg-flex flex-lg-column"},F={class:"container pt-60"},j=["src","onClick"],L={class:"col-12 col-lg-6"},Q=["src"],S={class:"col-12 d-lg-none d-sm-flex flex-sm-row"},V={class:"container pt-60"},T=["src","onClick"],A={class:"col-12 col-lg-4"},D={class:"container d-flex flex-column justify-content-between pt-80"},E={class:"fs-24 fs-lg-48 fw-bold"},M={class:"mb-16 new-line",style:{color:"#8e8e8e"}},z={class:"mb-16 new-line"},G={class:"container d-flex px-0 mb-16"},H={class:"fs-lg-20 text-danger me-36"},J={class:"fs-lg-20"},K={class:"container px-0 d-flex justify-content-between"},O=["value"],R={class:"container-fluid px-0"};function W(i,o,X,Y,e,l){const m=u("NavBar"),g=u("PageFooter");return n(),c(a,null,[t("div",P,[_(m)]),t("div",q,[t("div",B,[e.product?(n(),c("div",I,[t("div",U,[t("div",F,[(n(!0),c(a,null,h(e.product.imagesUrl,(s,d)=>(n(),c("img",{src:s,alt:"多圖",style:{width:"100%",height:"120px"},onClick:v=>l.changeImg(d),key:s,class:"mb-36 border border-4 border-hover"},null,8,j))),128))])]),t("div",L,[t("img",{src:e.product.imageUrl,alt:"首圖",style:{width:"100%",height:"100%","object-fit":"cover"}},null,8,Q)]),t("div",S,[t("div",V,[(n(!0),c(a,null,h(e.product.imagesUrl,(s,d)=>(n(),c("img",{src:s,alt:"多圖",style:{width:"20%"},onClick:v=>l.changeImg(d),key:s,class:"me-36 border border-4"},null,8,T))),128))])]),t("div",A,[t("div",D,[t("h1",E,r(e.product.title),1),t("p",M,r(e.product.description),1),t("p",z,r(e.product.content),1),t("div",G,[t("p",H," 特價： "+r(e.product.price*e.qty),1),t("span",J,[t("del",null,"原價： "+r(e.product.origin_price*e.qty),1)])]),t("div",K,[t("select",{name:"num",id:"num",style:{width:"40%"},ref:"selectNum",onChange:o[0]||(o[0]=(...s)=>l.changeQty&&l.changeQty(...s))},[(n(),c(a,null,h(10,s=>t("option",{value:s,key:s},r(s),9,O)),64))],544),t("button",{class:"btn btn-primary",style:{width:"40%"},onClick:o[1]||(o[1]=s=>l.addToCart(e.product.id))}," 加入購物車 ")])])])])):k("",!0)])]),t("div",R,[_(g)])],64)}const et=b(N,[["render",W],["__scopeId","data-v-ddb9cc1a"]]);export{et as default};
//# sourceMappingURL=UserProductInfo-DvZk-Fpu.js.map
