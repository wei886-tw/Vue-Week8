import{N as f,P as v}from"./NavBar-DVyaSNz_.js";import{m as y}from"./mixin-CQ1Yl775.js";import{_ as x,c,a as t,b as p,F as a,g as h,t as r,h as b,o as n,r as _}from"./index-CFZjpTHc.js";const w={components:{NavBar:f,PageFooter:v},props:["id"],mixins:[y],data(){return{url:"https://vue3-course-api.hexschool.io",api_path:"wei123",product:{},qty:1}},methods:{getProduct(i){this.$http.get(`${this.url}/v2/api/${this.api_path}/product/${i}`).then(o=>{this.product=o.data.product}).catch(o=>{console.log(o.response.data.message)})},changeQty(){this.qty=parseInt(this.$refs.selectNum.value)},addToCart(i){this.$http.post(`${this.url}/v2/api/${this.api_path}/cart`,{data:{product_id:i,qty:this.qty}}).then(()=>{alert("成功加入購物車")}).catch(o=>{console.log(o)})},changeImg(i){this.product.imageUrl=this.product.imagesUrl[i]}},mounted(){this.getProduct(this.id),this.loadingCircle()}},k={class:"container-fluid px-0"},C={class:"container-fluid"},N={class:"container py-32"},P={key:0,class:"row g-16 mb-48"},q={class:"col-lg-2 d-none d-lg-flex flex-lg-column"},B={class:"container pt-60"},I=["src","onClick"],U={class:"col-12 col-lg-6"},F=["src"],j={class:"col-12 d-lg-none d-sm-flex flex-sm-row"},Q={class:"container pt-60"},V=["src","onClick"],T={class:"col-12 col-lg-4"},D={class:"container d-flex flex-column justify-content-between pt-80"},E={class:"fs-24 fs-lg-48 fw-bold"},L={class:"mb-16 new-line",style:{color:"#8e8e8e"}},M={class:"mb-16 new-line"},S={class:"container d-flex px-0 mb-16"},z={class:"fs-lg-20 text-danger me-36"},A={class:"fs-lg-20"},G={class:"container px-0 d-flex justify-content-between"},H=["value"],J={class:"container-fluid px-0"};function K(i,o,O,R,e,l){const u=_("NavBar"),m=_("PageFooter");return n(),c(a,null,[t("div",k,[p(u)]),t("div",C,[t("div",N,[e.product?(n(),c("div",P,[t("div",q,[t("div",B,[(n(!0),c(a,null,h(e.product.imagesUrl,(s,d)=>(n(),c("img",{src:s,alt:"多圖",style:{width:"100%",height:"120px"},onClick:g=>l.changeImg(d),key:s,class:"mb-36 border border-4 border-hover"},null,8,I))),128))])]),t("div",U,[t("img",{src:e.product.imageUrl,alt:"首圖",style:{width:"100%",height:"100%","object-fit":"cover"}},null,8,F)]),t("div",j,[t("div",Q,[(n(!0),c(a,null,h(e.product.imagesUrl,(s,d)=>(n(),c("img",{src:s,alt:"多圖",style:{width:"20%"},onClick:g=>l.changeImg(d),key:s,class:"me-36 border border-4"},null,8,V))),128))])]),t("div",T,[t("div",D,[t("h1",E,r(e.product.title),1),t("p",L,r(e.product.description),1),t("p",M,r(e.product.content),1),t("div",S,[t("p",z," 特價： "+r(e.product.price*e.qty),1),t("span",A,[t("del",null,"原價： "+r(e.product.origin_price*e.qty),1)])]),t("div",G,[t("select",{name:"num",id:"num",style:{width:"40%"},ref:"selectNum",onChange:o[0]||(o[0]=(...s)=>l.changeQty&&l.changeQty(...s))},[(n(),c(a,null,h(10,s=>t("option",{value:s,key:s},r(s),9,H)),64))],544),t("button",{class:"btn btn-primary",style:{width:"40%"},onClick:o[1]||(o[1]=s=>l.addToCart(e.product.id))}," 加入購物車 ")])])])])):b("",!0)])]),t("div",J,[p(m)])],64)}const Z=x(w,[["render",K],["__scopeId","data-v-5baa9217"]]);export{Z as default};
