import{P as $,N,c as v}from"./NavBar-CdZSKITH.js";import{P as j}from"./PageNation-Bfiu_WvL.js";import{m as q}from"./mixin-CE07gU2g.js";import{_ as F,t as b,u as m,l as c,j as t,i as r,F as h,v as p,k as u,e as d,g as y,y as l,A as f,z as x,q as I,s as S}from"./index-CFdjDOx5.js";import{f as P}from"./favoriteStore-TorYPSbU.js";const T={components:{PageFooter:$,NavBar:N,PageNation:j},mixins:[q],data(){return{userProducts:[],api:"https://vue3-course-api.hexschool.io",api_path:"wei123",myModal:null,tempProduct:{},pagination:{},filterProducts:[],category:"",qty:""}},computed:{...b(v,["storeCart"]),...b(P,["favoriteList","favoriteId"])},methods:{...m(v,["getCartList"]),...m(P,["handleFavorite","setStorage","getFavoriteList"]),changeQty(){this.qty=parseInt(event.target.value)},addToCart(s){this.qty!=""?this.$http.post(`${this.api}/v2/api/${this.api_path}/cart`,{data:{product_id:s,qty:this.qty}}).then(()=>{this.getCartList(),alert("成功加入購物車")}).catch(a=>{console.log(a.response.data.message)}):this.$http.post(`${this.api}/v2/api/${this.api_path}/cart`,{data:{product_id:s,qty:1}}).then(()=>{alert("成功加入購物車")}).catch(a=>{console.log(a.response.data.message)})},changeProductType(){this.category=this.$refs.type.value,this.category!="所有產品"?this.$http.get(`${this.api}/v2/api/${this.api_path}/products?category=${this.category}`).then(s=>{this.userProducts=s.data.products,this.pagination=s.data.pagination,this.userProducts=this.userProducts.filter(a=>a.category===this.category),alert(`顯示所有${this.category}產品`)}).catch(s=>{console.log(s.response.data.message)}):this.getProducts()},getPadProducts(){this.$http.get(`${this.api}/v2/api/${this.api_path}/products?category=平板`).then(s=>{this.userProducts=s.data.products,this.pagination=s.data.pagination,window.scrollTo(0,0)})},openModal(){this.myModal.show()}},mounted(){this.getPadProducts(),this.loadingCircle()}},o=s=>(I("data-v-a9bfb222"),s=s(),S(),s),L={class:"container-fluid px-0"},B={class:"container-fluid py-48 mx-auto"},Q={class:"container pt-32 mx-auto"},M={class:"row mx-auto"},U={class:"col-10 mx-auto"},V=o(()=>t("div",{class:"container d-flex justify-content-between"},null,-1)),z={class:"table d-none d-md-block"},A=o(()=>t("th",null,[t("p",{class:"fs-24 fs-lg-40"},"所有產品")],-1)),O=o(()=>t("th",null,null,-1)),D=o(()=>t("option",{value:"所有產品"},"所有產品",-1)),E=o(()=>t("option",{value:"平板",selected:""},"平板",-1)),G=o(()=>t("option",{value:"手機"},"手機",-1)),H=o(()=>t("option",{value:"筆電"},"筆電",-1)),J=[D,E,G,H],K={class:"pt-32",style:{width:"20%"}},R=["src"],W={class:"pt-32",style:{width:"70%"}},X={class:"mb-16 fs-16 fs-md-24 text-dark"},Y={class:"d-none d-md-block",style:{color:"#8e8e8e"}},Z={class:"pt-32 fs-lg-24 fw-bold text-danger"},tt=o(()=>t("p",{class:""},"特價：",-1)),et={class:"mb-16"},st=["value"],ot=["onClick"],it=o(()=>t("i",{class:"bi bi-cart-fill"},null,-1)),at=["onClick"],nt=o(()=>t("i",{class:"bi bi-heart-fill"},null,-1)),lt={class:"container d-md-none d-flex justify-content-between"},ct=o(()=>t("p",{class:"fs-24"},"全部商品",-1)),dt={name:"",class:"btn btn-footer",ref:"select",style:{width:"30%"}},rt=o(()=>t("option",{value:"所有產品"},"所有產品",-1)),ht=o(()=>t("option",{value:"平板"},"平板",-1)),_t=o(()=>t("option",{value:"手機"},"手機",-1)),pt=o(()=>t("option",{value:"筆電"},"筆電",-1)),ut=[rt,ht,_t,pt],ft=o(()=>t("hr",null,null,-1)),gt=["onClick"],vt={class:"mb-24 py-16 px-16"},bt=["src"],mt={class:"d-flex flex-column justify-content-between px-32"},yt={class:"mb-16 text-dark"},xt={class:"mb-16 text-danger fw-bold"},Pt={class:"mb-16",style:{color:"#8e8e8e"}},wt={class:"container d-flex justify-content-between px-0 mb-16"},kt=["value"],Ct=["onClick"],$t=o(()=>t("i",{class:"bi bi-cart-fill"},null,-1)),Nt=["onClick"],jt=o(()=>t("i",{class:"bi bi-heart-fill"},null,-1)),qt={class:"container pt-32"},Ft={class:"container-fluid px-0"};function It(s,a,St,Tt,_,n){const w=u("NavBar"),g=u("router-link"),k=u("PageNation"),C=u("PageFooter");return d(),c(h,null,[t("div",L,[r(w)]),t("div",B,[t("div",Q,[t("div",M,[t("div",U,[V,t("table",z,[t("thead",null,[t("tr",null,[A,O,t("th",null,[t("select",{name:"",id:"",class:"rounded border-2 btn btn-footer",style:{width:"132px",height:"48px"},ref:"type",onChange:a[0]||(a[0]=(...e)=>n.changeProductType&&n.changeProductType(...e))},J,544)])])]),t("tbody",null,[(d(!0),c(h,null,p(_.userProducts,e=>(d(),c("tr",{key:e.id},[t("td",K,[t("img",{src:e.imageUrl,alt:"商品圖片",style:{height:"240px",width:"240px","object-fit":"cover"},class:"mb-16"},null,8,R)]),t("td",W,[r(g,{to:`/userProductInfo/${e.id}`},{default:y(()=>[t("h5",X," 產品名稱："+l(e.title),1)]),_:2},1032,["to"]),t("p",Y," 產品描述："+l(e.description),1)]),t("td",Z,[tt,t("p",et,l(e.price),1),t("select",{class:"rounded border-2 mb-16",name:"num",style:{width:"100%"},ref_for:!0,ref:"qty",onChange:a[1]||(a[1]=(...i)=>n.changeQty&&n.changeQty(...i))},[(d(),c(h,null,p(10,i=>t("option",{value:i,key:i},l(i),9,st)),64))],544),t("button",{class:"btn btn-footer hover mb-16 color",style:{width:"100%"},onClick:i=>n.addToCart(e.id)},[it,f(" 加入購物車 ")],8,ot),t("button",{class:x(["btn btn-footer hover",s.favoriteList.indexOf(e.id)===-1?"btn-footer":"hovered"]),style:{width:"100%"},onClick:i=>s.handleFavorite(e.id)},[nt,f("  加入追蹤 ")],10,at)])]))),128))])]),t("div",lt,[ct,t("select",dt,ut,512),ft]),(d(!0),c(h,null,p(_.userProducts,e=>(d(),c("div",{class:"d-md-none d-flex justify-content-between",key:e.id,onClick:i=>_.tempProduct=e},[t("div",vt,[t("img",{src:e.imageUrl,alt:"商品圖片",style:{height:"280px",width:"280px","object-fit":"cover"},class:"mb-16"},null,8,bt),t("div",mt,[r(g,{to:`/userProductInfo/${e.id}`,target:"_blank"},{default:y(()=>[t("h5",yt,"產品名稱："+l(e.title),1)]),_:2},1032,["to"]),t("p",xt," 特價："+l(e.price)+" 元 ",1),t("p",Pt,l(e.description),1),t("div",wt,[t("select",{class:"btn btn-footer fs-14",style:{width:"45%"},ref_for:!0,ref:"qty",onChange:a[2]||(a[2]=(...i)=>n.changeQty&&n.changeQty(...i))},[(d(),c(h,null,p(10,i=>t("option",{value:i,key:i},l(i),9,kt)),64))],544),t("button",{class:"btn btn-footer fs-14 hover",style:{width:"45%"},onClick:i=>n.addToCart(e.id)},[$t,f(" 加入購物車 ")],8,Ct)]),t("button",{class:x(["btn btn-footer fs-14 hover",s.favoriteList.indexOf(e.id)===-1?"btn-footer":"hovered"]),style:{width:"100%"},onClick:i=>s.handleFavorite(e.id)},[jt,f(" 加入追蹤 ")],10,Nt)])])],8,gt))),128))])])]),t("div",qt,[r(k,{class:"d-flex justify-content-center",pagination:_.pagination,"get-page-products":s.getProducts},null,8,["pagination","get-page-products"])])]),t("div",Ft,[r(C)])],64)}const Vt=F(T,[["render",It],["__scopeId","data-v-a9bfb222"]]);export{Vt as default};
//# sourceMappingURL=UserProductPad-CyKhkwhM.js.map
