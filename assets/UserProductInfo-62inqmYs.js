import{N as f,P as y,c as u}from"./NavBar-kP5I1pCb.js";import{m as b}from"./mixin-CE07gU2g.js";import{_ as x,t as k,u as C,l as n,j as t,i as p,F as a,x as h,v as l,y as w,e as r,k as _}from"./index-UeW8USfa.js";const P={components:{NavBar:f,PageFooter:y},props:["id"],mixins:[b],data(){return{url:"https://vue3-course-api.hexschool.io",api_path:"wei123",product:{},qty:1}},computed:{...k(u,["storeCart"])},methods:{...C(u,["getCartList"]),getProduct(i){this.$http.get(`${this.url}/v2/api/${this.api_path}/product/${i}`).then(s=>{this.product=s.data.product}).catch(s=>{console.log(s.response.data.message)})},changeQty(){this.qty=parseInt(this.$refs.selectNum.value)},addToCart(i){this.$http.post(`${this.url}/v2/api/${this.api_path}/cart`,{data:{product_id:i,qty:this.qty}}).then(()=>{this.getCartList(),alert("成功加入購物車")}).catch(s=>{console.log(s)})},changeImg(i){this.product.imageUrl=this.product.imagesUrl[i]},backToPrevious(){this.$router.push("/UserProduct")}},mounted(){this.getProduct(this.id),this.loadingCircle()}},N={class:"container-fluid px-0"},U={class:"container-fluid"},q={class:"container py-32"},B={key:0,class:"row g-16 mb-48"},I={class:"col-lg-2 d-none d-lg-flex flex-lg-column"},j={class:"container pt-60"},F=["src","onClick"],T={class:"col-12 col-lg-6"},L=["src"],Q={class:"col-12 d-lg-none d-sm-flex flex-sm-row"},S={class:"container pt-60"},V=["src","onClick"],A={class:"col-12 col-lg-4 mb-32"},D={class:"container d-flex flex-column justify-content-between pt-80"},E={class:"fs-24 fs-lg-48 fw-bold"},M={class:"mb-16 new-line",style:{color:"#8e8e8e"}},z={class:"mb-16 new-line"},G={class:"container d-flex px-0 mb-16"},H={class:"fs-lg-20 text-danger me-36"},J={class:"fs-lg-20"},K={class:"container px-0 d-flex justify-content-between"},O=["value"],R={class:"container d-flex justify-content-center"},W={class:"container-fluid px-0"};function X(i,s,Y,Z,o,c){const m=_("NavBar"),g=_("PageFooter");return r(),n(a,null,[t("div",N,[p(m)]),t("div",U,[t("div",q,[o.product?(r(),n("div",B,[t("div",I,[t("div",j,[(r(!0),n(a,null,h(o.product.imagesUrl,(e,d)=>(r(),n("img",{src:e,alt:"多圖",style:{width:"100%",height:"120px"},onClick:v=>c.changeImg(d),key:e,class:"mb-36 border border-4 border-hover"},null,8,F))),128))])]),t("div",T,[t("img",{src:o.product.imageUrl,alt:"首圖",style:{width:"100%",height:"100%","object-fit":"cover"}},null,8,L)]),t("div",Q,[t("div",S,[(r(!0),n(a,null,h(o.product.imagesUrl,(e,d)=>(r(),n("img",{src:e,alt:"多圖",style:{width:"20%"},onClick:v=>c.changeImg(d),key:e,class:"me-36 border border-4"},null,8,V))),128))])]),t("div",A,[t("div",D,[t("h1",E,l(o.product.title),1),t("p",M,l(o.product.description),1),t("p",z,l(o.product.content),1),t("div",G,[t("p",H," 特價： "+l(o.product.price*o.qty),1),t("span",J,[t("del",null,"原價： "+l(o.product.origin_price*o.qty),1)])]),t("div",K,[t("select",{name:"num",id:"num",style:{width:"40%"},ref:"selectNum",onChange:s[0]||(s[0]=(...e)=>c.changeQty&&c.changeQty(...e))},[(r(),n(a,null,h(10,e=>t("option",{value:e,key:e},l(e),9,O)),64))],544),t("button",{class:"btn btn-primary",style:{width:"40%"},onClick:s[1]||(s[1]=e=>c.addToCart(o.product.id))}," 加入購物車 ")])])])])):w("",!0),t("div",R,[t("button",{class:"btn btn-dark w-50 hover",onClick:s[2]||(s[2]=(...e)=>c.backToPrevious&&c.backToPrevious(...e))},"返回上一頁")])])]),t("div",W,[p(g)])],64)}const st=x(P,[["render",X],["__scopeId","data-v-37487262"]]);export{st as default};
//# sourceMappingURL=UserProductInfo-62inqmYs.js.map
