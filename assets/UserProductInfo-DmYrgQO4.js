import{N as f}from"./NavBar-CrTxqckA.js";import{_ as v,c as n,b as p,a as t,F as d,g as h,h as r,i as y,w as b,r as _,o as l,d as x,p as w,f as k}from"./index-BjxMaSOI.js";const C={components:{NavBar:f},props:["id"],data(){return{url:"https://vue3-course-api.hexschool.io",api_path:"wei123",product:{},qty:1}},methods:{getProduct(o){this.$http.get(`${this.url}/v2/api/${this.api_path}/product/${o}`).then(c=>{this.product=c.data.product}).catch(c=>{console.log(c.response.data.message)})},changeQty(){this.qty=parseInt(this.$refs.selectNum.value)},addToCart(o){this.$http.post(`${this.url}/v2/api/${this.api_path}/cart`,{data:{product_id:o,qty:this.qty}}).then(()=>{alert("成功加入購物車")}).catch(c=>{console.log(c)})},changeImg(o){this.product.imageUrl=this.product.imagesUrl[o]}},created(){console.log(this.$route.params.id)},mounted(){this.getProduct(this.id)}},I=o=>(w("data-v-d56fbf56"),o=o(),k(),o),N={class:"container-fluid"},q={class:"container py-32"},U={key:0,class:"row g-16 mb-48"},B={class:"col-lg-2 d-none d-lg-flex flex-lg-column"},P={class:"container pt-60"},S=["src","onClick"],V={class:"col-12 col-lg-6"},j=["src"],Q={class:"col-12 d-lg-none d-sm-flex flex-sm-row"},T={class:"container pt-60"},F=["src","onClick"],D={class:"col-12 col-lg-4"},E={class:"container d-flex flex-column justify-content-between pt-80"},L={class:"fs-24 fs-lg-48 fw-bold"},z={class:"mb-16 new-line"},A={class:"mb-16 new-line"},G={class:"container d-flex px-0 mb-16"},H={class:"fs-lg-20 text-danger me-36"},J={class:"fs-lg-20"},K={class:"container px-0 d-flex justify-content-between"},M=["value"],O={class:"row"},R=I(()=>t("div",{class:"col-10"},[t("p",{class:"fs-lg-48"},"相似產品")],-1)),W={class:"col-2"};function X(o,c,Y,Z,s,i){const u=_("nav-bar"),g=_("router-link");return l(),n(d,null,[p(u),t("div",N,[t("div",q,[s.product?(l(),n("div",U,[t("div",B,[t("div",P,[(l(!0),n(d,null,h(s.product.imagesUrl,(e,a)=>(l(),n("img",{src:e,alt:"多圖",style:{width:"100%",height:"120px"},onClick:m=>i.changeImg(a),key:e,class:"mb-36 border border-4"},null,8,S))),128))])]),t("div",V,[t("img",{src:s.product.imageUrl,alt:"首圖",style:{width:"100%",height:"100%","object-fit":"cover"}},null,8,j)]),t("div",Q,[t("div",T,[(l(!0),n(d,null,h(s.product.imagesUrl,(e,a)=>(l(),n("img",{src:e,alt:"多圖",style:{width:"20%"},onClick:m=>i.changeImg(a),key:e,class:"me-36 border border-4"},null,8,F))),128))])]),t("div",D,[t("div",E,[t("h1",L,r(s.product.title),1),t("p",z,r(s.product.description),1),t("p",A,r(s.product.content),1),t("div",G,[t("p",H," 特價： "+r(s.product.price*s.qty),1),t("span",J,[t("del",null,"原價： "+r(s.product.origin_price*s.qty),1)])]),t("div",K,[t("select",{name:"num",id:"num",style:{width:"40%"},ref:"selectNum",onChange:c[0]||(c[0]=(...e)=>i.changeQty&&i.changeQty(...e))},[(l(),n(d,null,h(10,e=>t("option",{value:e,key:e},r(e),9,M)),64))],544),t("button",{class:"btn btn-primary",style:{width:"40%"},onClick:c[1]||(c[1]=e=>i.addToCart(s.product.id))}," 加入購物車 ")])])])])):y("",!0),t("div",O,[R,t("div",W,[p(g,{to:"/userProduct",class:"fs-lg-24 text-dark"},{default:b(()=>[x("瀏覽更多")]),_:1})])])])])],64)}const st=v(C,[["render",X],["__scopeId","data-v-d56fbf56"]]);export{st as default};
