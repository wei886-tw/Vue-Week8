import{A as u}from"./AdminNavBar-D5ZY9xac.js";import{U as _}from"./UploadImageModal-BqFlkdyA.js";import{_ as g,c as f,b as d,a as t,j as a,v as c,s as b,g as x,q as v,F as y,r as p,o as U,p as w,i as k,d as n}from"./index-C10YYT8w.js";const C={components:{AdminNavBar:u,UploadImageModal:_},data(){return{myModal:null,tempArticleInfo:{imageUrl:""},imageUrl:"",title:"",content:"",author:"",articleCategory:"",tag:[],description:"",isPublic:!0,create_at:"",url:"https://vue3-course-api.hexschool.io",api_path:"wei123"}},methods:{getUrl(l){this.imageUrl=l},postArticle(){this.create_at=new Date().getTime(),this.$http.post(`${this.url}/v2/api/${this.api_path}/admin/article`,{data:{title:this.title,description:this.description,image:this.imageUrl,tag:this.tag,create_at:this.create_at,author:this.author,isPublic:this.isPublic,content:this.content}}).then(()=>{alert("文章建立成功"),this.$refs.form.reset(),this.imageUrl="",this.$router.push("/adminBlog")}).catch(l=>{console.log(l.response.data.message)})}}},i=l=>(w("data-v-cfe1ac32"),l=l(),k(),l),I={class:"container-fluid"},V={class:"container py-48"},A={ref:"form"},B={class:"row"},M={class:"col"},N=i(()=>t("label",{class:"fs-24 mb-8",for:"title"},[n("文章標題"),t("span",{class:"text-danger"},"*")],-1)),P={class:"row"},S={class:"col-6"},D=i(()=>t("label",{class:"fs-24",for:"author"},[n(" 文章作者"),t("span",{class:"text-danger"},"*")],-1)),E={class:"col-6"},T=i(()=>t("label",{class:"fs-24",for:"articleCategory"},[n(" 文章分類"),t("span",{class:"text-danger"},"*")],-1)),j=i(()=>t("p",null,[n(" 點擊帶入文章分類： "),t("button",{class:"btn btn-gray me-8"},"最新消息"),t("button",{class:"btn btn-gray me-8"},"活動講座"),t("button",{class:"btn btn-gray me-8"},"專欄講座")],-1)),F={class:"row mb-24"},q={class:"col"},z=i(()=>t("label",{class:"fs-24",for:"tag"},[n("文章標籤"),t("span",{class:"text-danger"},"*")],-1)),G=i(()=>t("label",{class:"fs-24",for:"description"},[n("文章簡述"),t("span",{class:"text-danger"},"*")],-1)),H=i(()=>t("label",{class:"fs-24",for:"description"},[n("文章內容"),t("span",{class:"text-danger"},"*")],-1)),J=i(()=>t("h3",{class:"fs-24 mb-16"},"封面圖片",-1)),K={class:"card mb-32",style:{width:"240px"}},L=["src"],O={class:"card-body"},Q={class:"row"},R={class:"col-6"},W=i(()=>t("h3",{class:"fs-24"},"文章發佈狀態",-1)),X={class:"form-check form-switch"},Y={class:"form-check-label",for:"flexSwitchCheckDefault"},Z={class:"col-6 d-flex justify-content-end"};function $(l,e,tt,et,s,r){const h=p("AdminNavBar"),m=p("UploadImageModal");return U(),f(y,null,[d(h),t("div",I,[t("div",V,[t("form",A,[t("div",B,[t("div",M,[N,a(t("input",{type:"text",class:"rounded mb-32 form-check-input",style:{width:"100%",height:"40px"},"onUpdate:modelValue":e[0]||(e[0]=o=>s.title=o),name:"title",id:"title"},null,512),[[c,s.title]])])]),t("div",P,[t("div",S,[D,a(t("input",{type:"text",class:"rounded mb-32 form-check-input",style:{width:"100%",height:"40px"},placeholder:"請填入作者",name:"author",id:"author","onUpdate:modelValue":e[1]||(e[1]=o=>s.author=o)},null,512),[[c,s.author]])]),t("div",E,[T,a(t("input",{type:"text",class:"rounded mb-16 form-check-input",style:{width:"100%",height:"40px"},placeholder:"請填入文章分類",name:"articleCategory",id:"articleCategory","onUpdate:modelValue":e[2]||(e[2]=o=>s.articleCategory=o)},null,512),[[c,s.articleCategory]]),j])]),t("div",F,[t("div",q,[z,a(t("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=o=>s.tag=o),class:"rounded mb-24 form-check-input",name:"tag",id:"tag",style:{width:"100%",height:"40px"},placeholder:"請填入文章標籤"},null,512),[[c,s.tag]]),G,a(t("textarea",{"onUpdate:modelValue":e[4]||(e[4]=o=>s.description=o),class:"rounded mb-24 form-check-input",style:{width:"100%",height:"120px"},placeholder:"請填入 100 字內描述",name:"description",id:"description"},null,512),[[c,s.description]]),H,a(t("textarea",{type:"text","onUpdate:modelValue":e[5]||(e[5]=o=>s.content=o),class:"rounded mb-24 form-check-input",style:{width:"100%",height:"240px"},placeholder:"請輸入文章內容",name:"content",id:"content"},null,512),[[c,s.content]])])]),J,t("div",K,[t("img",{src:s.imageUrl,class:"card-img-top"},null,8,L),t("div",O,[d(m,{onEmitImgUrl:r.getUrl},null,8,["onEmitImgUrl"])])]),t("div",Q,[t("div",R,[W,t("div",X,[a(t("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheckDefault","onUpdate:modelValue":e[6]||(e[6]=o=>s.isPublic=o)},null,512),[[b,s.isPublic]]),t("label",Y,x(s.isPublic?"文章公開":"文章不公開"),1)])]),t("div",Z,[t("button",{class:"btn btn-dark",onClick:e[7]||(e[7]=v((...o)=>r.postArticle&&r.postArticle(...o),["prevent"]))},"送出文章")])])],512)])])],64)}const lt=g(C,[["render",$],["__scopeId","data-v-cfe1ac32"]]);export{lt as default};
