import{_ as c,c as p,b as u,a as s,w as m,j as i,v as l,F as h,o as _,r as g}from"./index-CyP_o6Dz.js";/* empty css                                                    */const b={data(){return{user:{username:"",password:""},url:"https://vue3-course-api.hexschool.io",api_path:"wei123"}},components:{},methods:{signIn(){this.$http.post("https://vue3-course-api.hexschool.io/v2/admin/signin",this.user).then(e=>{const{token:t,expired:r}=e.data;document.cookie=`hexToken=${t};expires=${new Date(r)};`,this.$router.push("/adminProducts")}).catch(e=>{alert(e.response.data.message)})},getPageProducts(){this.$http.get(`${this.url}/v2/api/${this.api_path}/admin/products`).then(e=>{console.log(e.request.responseURL),this.pages=e.data.pagination}).catch(e=>{console.log(e.response.data.message),console.log(e.request.responseURL)})}},mounted(){this.getPageProducts()}},f={class:"container py-48"},v={class:"col-md-6"},w=s("h1",{class:"h3 mb-3 font-weight-normal"},"請先登入",-1),x={class:"mb-40"},P=s("label",{for:"inputEmail",class:"sr-only"},"Email address",-1),k={class:"mb-40"},y=s("label",{for:"inputPassword",class:"sr-only"},"Password",-1),E={class:"text-end mt-4"};function I(e,t,r,q,n,a){const d=g("admin-nav-bar");return _(),p(h,null,[u(d),s("div",f,[s("form",{class:"row justify-content-center",onSubmit:t[3]||(t[3]=m((...o)=>a.signIn&&a.signIn(...o),["prevent"]))},[s("div",v,[w,s("div",x,[P,i(s("input",{type:"email",id:"inputEmail",class:"form-control",placeholder:"Email address","onUpdate:modelValue":t[0]||(t[0]=o=>n.user.username=o),required:"",autofocus:""},null,512),[[l,n.user.username]])]),s("div",k,[y,i(s("input",{type:"password",id:"inputPassword",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=o=>n.user.password=o),placeholder:"Password",required:""},null,512),[[l,n.user.password]])]),s("div",E,[s("button",{class:"btn btn-lg btn-footer btn-block w-100",type:"submit",onClick:t[2]||(t[2]=(...o)=>a.signIn&&a.signIn(...o))}," 登入 ")])])],32)])],64)}const $=c(b,[["render",I]]);export{$ as default};
