import{N as f}from"./NavBar-BNmzuVlj.js";import{m as v}from"./mixin-B-heLa87.js";import{_ as y,c as n,b as p,a as t,F as d,h,t as r,i as x,w as b,r as _,o as l,e as w,p as k,f as C}from"./index-WfpBXQx9.js";const N={components:{NavBar:f},props:["id"],mixins:[v],data(){return{url:"https://vue3-course-api.hexschool.io",api_path:"wei123",product:{},qty:1}},methods:{getProduct(o){this.$http.get(`${this.url}/v2/api/${this.api_path}/product/${o}`).then(c=>{this.product=c.data.product}).catch(c=>{console.log(c.response.data.message)})},changeQty(){this.qty=parseInt(this.$refs.selectNum.value)},addToCart(o){this.$http.post(`${this.url}/v2/api/${this.api_path}/cart`,{data:{product_id:o,qty:this.qty}}).then(()=>{alert("成功加入購物車")}).catch(c=>{console.log(c)})},changeImg(o){this.product.imageUrl=this.product.imagesUrl[o]}},mounted(){this.getProduct(this.id),this.loadingCircle()}},I=o=>(k("data-v-cc71af15"),o=o(),C(),o),q={class:"container-fluid"},B={class:"container py-32"},U={key:0,class:"row g-16 mb-48"},P={class:"col-lg-2 d-none d-lg-flex flex-lg-column"},S={class:"container pt-60"},V=["src","onClick"],j={class:"col-12 col-lg-6"},Q=["src"],T={class:"col-12 d-lg-none d-sm-flex flex-sm-row"},F={class:"container pt-60"},D=["src","onClick"],E={class:"col-12 col-lg-4"},L={class:"container d-flex flex-column justify-content-between pt-80"},M={class:"fs-24 fs-lg-48 fw-bold"},z={class:"mb-16 new-line",style:{color:"#8e8e8e"}},A={class:"mb-16 new-line"},G={class:"container d-flex px-0 mb-16"},H={class:"fs-lg-20 text-danger me-36"},J={class:"fs-lg-20"},K={class:"container px-0 d-flex justify-content-between"},O=["value"],R={class:"row"},W=I(()=>t("div",{class:"col-10"},[t("p",{class:"fs-lg-48"},"相似產品")],-1)),X={class:"col-2"};function Y(o,c,Z,$,s,i){const u=_("NavBar"),m=_("router-link");return l(),n(d,null,[p(u),t("div",q,[t("div",B,[s.product?(l(),n("div",U,[t("div",P,[t("div",S,[(l(!0),n(d,null,h(s.product.imagesUrl,(e,a)=>(l(),n("img",{src:e,alt:"多圖",style:{width:"100%",height:"120px"},onClick:g=>i.changeImg(a),key:e,class:"mb-36 border border-4 border-hover"},null,8,V))),128))])]),t("div",j,[t("img",{src:s.product.imageUrl,alt:"首圖",style:{width:"100%",height:"100%","object-fit":"cover"}},null,8,Q)]),t("div",T,[t("div",F,[(l(!0),n(d,null,h(s.product.imagesUrl,(e,a)=>(l(),n("img",{src:e,alt:"多圖",style:{width:"20%"},onClick:g=>i.changeImg(a),key:e,class:"me-36 border border-4"},null,8,D))),128))])]),t("div",E,[t("div",L,[t("h1",M,r(s.product.title),1),t("p",z,r(s.product.description),1),t("p",A,r(s.product.content),1),t("div",G,[t("p",H," 特價： "+r(s.product.price*s.qty),1),t("span",J,[t("del",null,"原價： "+r(s.product.origin_price*s.qty),1)])]),t("div",K,[t("select",{name:"num",id:"num",style:{width:"40%"},ref:"selectNum",onChange:c[0]||(c[0]=(...e)=>i.changeQty&&i.changeQty(...e))},[(l(),n(d,null,h(10,e=>t("option",{value:e,key:e},r(e),9,O)),64))],544),t("button",{class:"btn btn-primary",style:{width:"40%"},onClick:c[1]||(c[1]=e=>i.addToCart(s.product.id))}," 加入購物車 ")])])])])):x("",!0),t("div",R,[W,t("div",X,[p(m,{to:"/userProduct",class:"fs-lg-24 text-dark"},{default:b(()=>[w("瀏覽更多")]),_:1})])])])])],64)}const ot=y(N,[["render",Y],["__scopeId","data-v-cc71af15"]]);export{ot as default};
