{"version":3,"file":"UserBlog-IhRrK1M_.js","sources":["../../src/views/UserBlog.vue"],"sourcesContent":["<template>\n  <div class=\"container-fluid px-0 d-flex\">\n    <NavBar />\n  </div>\n  <div class=\"container-fluid px-0\">\n    <div class=\"container pt-32 d-flex\">\n      <div class=\"row\">\n        <div class=\"col-lg-2 d-none d-lg-block\">\n          <ul class=\"list-unstyled mt-128 gy-16 d-flex flex-column\">\n            <li class=\"fs-lg-24 mb-16\">\n              <a\n                to=\"/userBlog\"\n                class=\"text-dark hover\"\n                :class=\"tag === '全部文章' ? 'fw-bold' : 'fw-normal'\"\n                @click=\"getArticles('全部文章')\"\n                >全部文章\n              </a>\n            </li>\n            <li class=\"fs-lg-24 mb-16\">\n              <a\n                class=\"text-dark hover\"\n                :class=\"tag === '最新消息' ? 'fw-bold' : 'fw-normal'\"\n                @click=\"goToBlog('最新消息')\"\n                >最新消息</a\n              >\n            </li>\n            <li class=\"fs-lg-24 mb-16\">\n              <a\n                @click=\"goToBlog('本站獨家')\"\n                :class=\"tag === '本站獨家' ? 'fw-bold' : 'fw-normal'\"\n                class=\"text-dark hover\"\n                >本站獨家</a\n              >\n            </li>\n            <li class=\"fs-lg-24 mb-16\">\n              <a\n                @click=\"goToBlog('活動講座')\"\n                :class=\"tag === '活動講座' ? 'fw-bold' : 'fw-normal'\"\n                class=\"text-dark hover\"\n                >活動講座</a\n              >\n            </li>\n          </ul>\n        </div>\n\n        <div class=\"col-12 col-lg-10\">\n          <h3 class=\"fs-40 py-24 text-start\">{{ tag }}</h3>\n          <hr />\n          <ul\n            class=\"list-unstyled gy-16 d-flex d-block d-lg-none justify-content-between\"\n          >\n            <li class=\"fs-16 fs-md-24 mb-16\">\n              <router-link\n                to=\"/userBlog\"\n                class=\"router-link-active text-dark hover\"\n                :class=\"tag === '全部文章' ? 'fw-bold' : 'fw-normal'\"\n                >全部文章</router-link\n              >\n            </li>\n            <li class=\"fs-16 fs-md-24 mb-16\">\n              <a\n                @click=\"goToBlog('最新消息')\"\n                :class=\"tag === '最新消息' ? 'fw-bold' : 'fw-normal'\"\n                class=\"router-link-active text-dark hover\"\n                >最新消息</a\n              >\n            </li>\n            <li class=\"fs-16 fs-md-24 mb-16\">\n              <a\n                to=\"/blogOnly\"\n                class=\"router-link-active text-dark hover\"\n                @click=\"goToBlog('本站獨家')\"\n                :class=\"tag === '本站獨家' ? 'fw-bold' : 'fw-normal'\"\n                >本站獨家</a\n              >\n            </li>\n            <li class=\"fs-16 fs-md-24 mb-16\">\n              <a\n                @click=\"goToBlog('活動講座')\"\n                class=\"router-link-active text-dark hover\"\n                :class=\"tag === '活動講座' ? 'fw-bold' : 'fw-normal'\"\n                >活動講座</a\n              >\n            </li>\n            <hr />\n          </ul>\n          <ul\n            class=\"list-unstyled d-flex justify-content-between row row-cols-1 row-cols-md-2 row-sm-cols-1\"\n          >\n            <div\n              class=\"mb-16 d-flex flex-column justify-content-between\"\n              v-for=\"article in articles\"\n              :key=\"article.id\"\n            >\n              <li class=\"\">\n                <router-link :to=\"`/userArticle/${article.id}`\">\n                  <div class=\"mb-8 d-flex flex-column justify-content-between\">\n                    <img\n                      :src=\"article.image\"\n                      alt=\"文章圖片\"\n                      style=\"height: 240px; width: 100%; object-fit: cover\"\n                      class=\"mb-16\"\n                    />\n                    <h3 class=\"fw-bold text-dark\">\n                      {{ article.title }}\n                    </h3>\n                    <h4 style=\"color: #7b7b7b\">作者： {{ article.author }}</h4>\n                    <p\n                      class=\"overflow-hidden text-dark w-100\"\n                      style=\"height: 120px\"\n                    >\n                      {{ article.description }}\n                    </p>\n                  </div>\n                </router-link>\n              </li>\n            </div>\n          </ul>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"container-fluid px-0\">\n      <PageFooter />\n    </div>\n  </div>\n  <RouterView />\n</template>\n\n<script>\nimport NavBar from \"@/components/NavBar.vue\";\nimport PageFooter from \"@/components/PageFooter.vue\";\n\nexport default {\n  data() {\n    return {\n      url: import.meta.env.VITE_API,\n      api_path: import.meta.env.VITE_PATH,\n      articles: {},\n      pagination: {},\n      isActive: true,\n      tag: \"全部文章\",\n    };\n  },\n\n  components: { NavBar, PageFooter },\n\n  props: [\"category\"],\n\n  methods: {\n    getArticles(all) {\n      if (\n        all === '全部文章' \n      ) {\n        this.tag ='全部文章'\n        this.$router.push({\n          name: \"userBlog\",\n        });\n\n        this.loadingCircle();\n        this.$http.get(`${this.url}/v2/api/${this.api_path}/articles`)\n          .then((res) => {\n            this.articles = res.data.articles;\n            this.pagination = res.data.pagination;\n          })\n          .catch((err) => {\n            console.log(err.response.data.message);\n          });\n      } \n      else if(!all && !this.category) {\n        this.tag === '全部文章'\n        this.$router.push({\n          name: \"userBlog\",\n        });\n        this.loadingCircle();\n        this.$http.get(`${this.url}/v2/api/${this.api_path}/articles`)\n          .then((res) => {\n            this.articles = res.data.articles;\n            this.pagination = res.data.pagination;\n          })\n          .catch((err) => {\n            console.log(err.response.data.message);\n          });\n      }\n      else {\n        this.tag = this.category;\n        this.$http(\n          `${this.url}/v2/api/${this.api_path}/articles?category=${this.category}`\n        )\n          .then((res) => {\n            this.articles = res.data.articles;\n            this.articles = this.articles.filter(\n              (item) => item.tag.indexOf(this.category) !== -1\n            );\n            this.pagination = res.data.pagination;\n            this.tag = this.category;\n            this.loadingCircle();\n            this.tag === ''\n          })\n          .catch((err) => {\n            console.log(err.response.data.message);\n          });\n      }\n    },\n\n    loadingCircle() {\n      let loader = this.$loading.show({\n        container: this.fullPage ? null : this.$refs.formContainer,\n        canCancel: true,\n        onCancel: this.onCancel,\n      });\n      setTimeout(() => {\n        loader.hide();\n      }, 1500);\n    },\n\n    goToBlog(tag) {\n      this.$router.push({ name: \"userBlog\", query: { category: tag } });\n      this.$http(`${this.url}/v2/api/${this.api_path}/articles?category=${tag}`)\n        .then((res) => {\n          this.articles = res.data.articles;\n          this.articles = this.articles.filter(\n            (item) => item.tag.indexOf(tag) !== -1\n          );\n          this.pagination = res.data.pagination;\n          this.tag = tag;\n          this.loadingCircle();\n        })\n        .catch((err) => {\n          console.log(err.response.data.message);\n        });\n    },\n  },\n\n  mounted() {\n    this.getArticles();\n    this.loadingCircle();\n    window.scroll(0, 0);\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\na.hover:hover {\n  text-decoration: underline black;\n}\n.router-link-exact-active {\n  font-weight: bolder;\n}\n\na.active {\n  font-weight: bolder;\n}\n</style>\n\n"],"names":["_sfc_main","NavBar","PageFooter","all","res","err","item","loader","tag","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_createElementVNode","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_27","_openBlock","_createElementBlock","_Fragment","_createVNode","_component_NavBar","_normalizeClass","$data","$options","_toDisplayString","_hoisted_13","_component_router_link","_withCtx","_createTextVNode","_hoisted_19","_renderList","article","_hoisted_26","_component_PageFooter","_component_RouterView"],"mappings":"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"}