import{P as y}from"./PageFooter-CtWou6pP.js";import{N as k}from"./NavBar-BWZKYkNG.js";import{P as I}from"./PageNation-CykBehZV.js";import{_ as u,o as c,c as r,a as t,m as C,t as w,b as d,F as m,f as h,d as F,g as a,h as $,r as p,w as N}from"./index-BA_JWqmO.js";const j={data(){return{allItem:[],filterItem:[],api:"https://vue3-course-api.hexschool.io",api_path:"wei123"}},methods:{filter(s){s==="所有產品"?this.filterItem=this.allItem.map(e=>e):this.filterItem=this.allItem.filter(e=>e.category===s),this.$emit("emitFilterItem",this.filterItem)},getAllProducts(){this.$http.get(`${this.api}/api/${this.api_path}/products/all`).then(s=>{this.allItem=s.data.products}).catch(s=>{alert(s.response.message)})}},mounted(){this.getAllProducts()}},M={class:"container"},B={class:"d-flex justify-content-center"};function U(s,e,g,f,o,i){return c(),r("div",M,[t("div",B,[t("div",C({class:"btn-group mb-32"},w(i.filter,!0)),[t("a",{href:"#",class:"btn btn-secondary active btn-lg","aria-current":"page",onClick:e[0]||(e[0]=l=>i.filter("所有產品"))},"所有產品"),t("a",{href:"#",class:"btn btn-footer btn-lg",onClick:e[1]||(e[1]=l=>i.filter("筆電"))},"筆電"),t("a",{href:"#",class:"btn btn-footer btn-lg",onClick:e[2]||(e[2]=l=>i.filter("手機"))},"手機"),t("a",{href:"#",class:"btn btn-footer btn-lg",onClick:e[3]||(e[3]=l=>i.filter("平板"))},"平板")],16)])])}const V=u(j,[["render",U]]),E={components:{PageFooter:y,NavBar:k,PageNation:I,FilterComponents:V},data(){return{userProducts:[],api:"https://vue3-course-api.hexschool.io",api_path:"wei123",myModal:null,tempProduct:{},pagination:{},filterItem:[]}},methods:{getFilterItem(s){this.userProducts=s},getProducts(s){this.$http.get(`${this.api}/api/${this.api_path}/products?page=${s}`).then(e=>{this.userProducts=e.data.products,this.pagination=e.data.pagination})},addToCart(s){this.$http.post(`${this.api}/v2/api/${this.api_path}/cart`,{data:{product_id:s,qty:1}}).then(()=>{alert("成功加入購物車")}).catch(e=>{console.log(e)})},openModal(){this.myModal.show()}},mounted(){this.getProducts()}},T={class:"container-fluid py-48"},A={class:"container pt-60"},q={class:"row"},D=["onClick"],H={class:"mb-24 py-16 px-16"},L=["src"],S={class:"d-flex flex-column justify-content-between px-32"},z={class:"mb-16 text-dark"},G={class:"mb-16 text-dark"},J={class:"container pt-32"},K={class:"container"},O={class:"row"},Q={class:"col-md-6"},R={class:"modal",tabindex:"-1",ref:"myModal",id:"myModal"},W={class:"modal-dialog modal-dialog-centered modal-dialog-scrollable"},X={class:"modal-content"},Y=t("div",{class:"container"},null,-1),Z={key:0},tt={class:"card"},et=t("div",{class:"container d-flex justify-content-end pt-8"},[t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),st=["src"],ot={class:"card-body ps-80"},it={class:"card-title"},nt={class:"badge bg-footer ms-2 text-dark"},at={class:"card-text mb-4"},ct={class:"card-text mb-4"},rt={class:"container d-flex justify-content-center pt-8 px-0"},lt=["src"],dt={class:"container-fluid px-0"};function pt(s,e,g,f,o,i){const l=p("nav-bar"),b=p("filter-components"),v=p("router-link"),P=p("PageNation"),x=p("PageFooter");return c(),r(m,null,[d(l),t("div",T,[t("div",A,[d(b,{onEmitFilterItem:i.getFilterItem},null,8,["onEmitFilterItem"]),t("div",q,[(c(!0),r(m,null,h(o.userProducts,n=>(c(),r("div",{class:"col-12 col-md-6 col-lg-4 d-flex justify-content-between",key:n.id,onClick:_=>o.tempProduct=n},[t("div",H,[d(v,{to:`/userProductInfo/${n.id}`},{default:N(()=>[t("img",{src:n.imageUrl,alt:"商品圖片",style:{height:"360px",width:"100%","object-fit":"cover"},class:"mb-16"},null,8,L),t("div",S,[t("h5",z,"產品名稱："+a(n.title),1),t("p",G,"特價："+a(n.price)+" 元",1)])]),_:2},1032,["to"])])],8,D))),128))])]),t("div",J,[d(P,{class:"d-flex justify-content-center",pagination:o.pagination,"get-page-products":i.getProducts},null,8,["pagination","get-page-products"])])]),t("div",K,[t("div",O,[t("div",Q,[t("div",R,[t("div",W,[t("div",X,[Y,o.tempProduct.title?(c(),r("div",Z,[t("div",tt,[et,t("img",{src:o.tempProduct.imageUrl,class:"card-img-top primary-image img ps-128 pt-16",alt:"主圖",style:{height:"50%",width:"80%","object-fit":"cover"}},null,8,st),t("div",ot,[t("h5",it,[F(a(o.tempProduct.title)+" ",1),t("span",nt,a(o.tempProduct.category),1)]),t("p",null,"特價： "+a(o.tempProduct.price)+" 元",1),t("p",at," 商品描述："+a(o.tempProduct.description),1),t("p",ct," 商品內容："+a(o.tempProduct.content),1)]),t("div",rt,[t("button",{class:"btn btn-dark border border-2 w-75 mb-24",onClick:e[0]||(e[0]=n=>i.addToCart(o.tempProduct.id))}," 加入購物車 ")])]),t("div",null,[(c(!0),r(m,null,h(o.tempProduct.imagesUrl,(n,_)=>(c(),r("span",{key:_},[t("img",{src:n,alt:"副圖",class:"images m-2 img",style:{height:"150px"}},null,8,lt)]))),128))])])):$("",!0)])])],512)])])]),t("div",dt,[d(x)])],64)}const gt=u(E,[["render",pt]]);export{gt as default};
