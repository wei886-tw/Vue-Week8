import{P as $,N,c as v}from"./NavBar-DOP07np4.js";import{P as j}from"./PageNation-2FQH4iqp.js";import{_ as q,t as y,u as b,l,j as t,i as r,F as h,v as p,k as u,e as d,g as m,y as c,A as f,z as P,q as F,s as T}from"./index-C6NmYbve.js";import{f as x}from"./favoriteStore-DO2F2_kc.js";const I={components:{PageFooter:$,NavBar:N,PageNation:j},data(){return{userProducts:[],api:"https://vue3-course-api.hexschool.io",api_path:"wei123",myModal:null,tempProduct:{},pagination:{},filterProducts:[],category:"",qty:""}},computed:{...y(v,["storeCart"]),...y(x,["favoriteList","favoriteId"])},methods:{...b(v,["getCartList"]),...b(x,["handleFavorite","setStorage","getFavoriteList"]),changeQty(){this.qty=parseInt(event.target.value)},addToCart(s){this.qty!=""?this.$http.post(`${this.api}/v2/api/${this.api_path}/cart`,{data:{product_id:s,qty:this.qty}}).then(()=>{alert("成功加入購物車")}).catch(a=>{console.log(a.response.data.message)}):this.$http.post(`${this.api}/v2/api/${this.api_path}/cart`,{data:{product_id:s,qty:1}}).then(()=>{this.getCartList(),alert("成功加入購物車")}).catch(a=>{console.log(a.response.data.message)})},changeProductType(){this.category=this.$refs.type.value,this.category!="所有產品"?this.$http.get(`${this.api}/v2/api/${this.api_path}/products?category=${this.category}`).then(s=>{this.userProducts=s.data.products,this.pagination=s.data.pagination,this.userProducts=this.userProducts.filter(a=>a.category===this.category),alert(`顯示所有${this.category}產品`)}).catch(s=>{console.log(s.response.data.message)}):this.getProducts(1)},getPhoneProducts(){this.$http.get(`${this.api}/v2/api/${this.api_path}/products?category=手機`).then(s=>{this.userProducts=s.data.products,this.pagination=s.data.pagination,window.scrollTo(0,0)})},getProducts(s){this.$http.get(`${this.api}/api/${this.api_path}/products?page=${s}`).then(a=>{this.userProducts=a.data.products,this.pagination=a.data.pagination,window.scrollTo(0,0)}).catch(a=>{console.log(a.response.data.message)})},openModal(){this.myModal.show()}},mounted(){this.getPhoneProducts()}},o=s=>(F("data-v-99a4696f"),s=s(),T(),s),S={class:"container-fluid px-0"},L={class:"container-fluid py-48 mx-auto"},B={class:"container pt-32 mx-auto"},Q={class:"row mx-auto"},M={class:"col-10 mx-auto"},U=o(()=>t("div",{class:"container d-flex justify-content-between"},null,-1)),V={class:"table d-none d-md-block"},z=o(()=>t("th",null,[t("p",{class:"fs-24 fs-lg-40"},"所有產品")],-1)),A=o(()=>t("th",null,null,-1)),O=o(()=>t("option",{value:"所有產品"},"所有產品",-1)),D=o(()=>t("option",{value:"平板"},"平板",-1)),E=o(()=>t("option",{value:"手機",selected:""},"手機",-1)),G=o(()=>t("option",{value:"筆電"},"筆電",-1)),H=[O,D,E,G],J={class:"pt-32",style:{width:"20%"}},K=["src"],R={class:"pt-32",style:{width:"70%"}},W={class:"mb-16 fs-16 fs-md-24 text-dark"},X={class:"d-none d-md-block",style:{color:"#8e8e8e"}},Y={class:"pt-32 fs-lg-24 fw-bold text-danger"},Z=o(()=>t("p",{class:""},"特價：",-1)),tt={class:"mb-16"},et=["value"],st=["onClick"],ot=o(()=>t("i",{class:"bi bi-cart-fill"},null,-1)),at=["onClick"],it=o(()=>t("i",{class:"bi bi-heart-fill"},null,-1)),nt={class:"container d-md-none d-flex justify-content-between"},ct=o(()=>t("p",{class:"fs-24"},"全部商品",-1)),lt={name:"",class:"btn btn-footer",ref:"select",style:{width:"30%"}},dt=o(()=>t("option",{value:"所有產品"},"所有產品",-1)),rt=o(()=>t("option",{value:"平板"},"平板",-1)),ht=o(()=>t("option",{value:"手機"},"手機",-1)),_t=o(()=>t("option",{value:"筆電"},"筆電",-1)),pt=[dt,rt,ht,_t],ut=o(()=>t("hr",null,null,-1)),ft=["onClick"],gt={class:"mb-24 py-16 px-16"},vt=["src"],yt={class:"d-flex flex-column justify-content-between px-32"},bt={class:"mb-16 text-dark"},mt={class:"mb-16 text-danger fw-bold"},Pt={class:"mb-16",style:{color:"#8e8e8e"}},xt={class:"container d-flex justify-content-between px-0 mb-16"},wt=["value"],kt=["onClick"],Ct=o(()=>t("i",{class:"bi bi-cart-fill"},null,-1)),$t=["onClick"],Nt=o(()=>t("i",{class:"bi bi-heart-fill"},null,-1)),jt={class:"container pt-32"},qt={class:"container-fluid px-0"};function Ft(s,a,Tt,It,_,n){const w=u("NavBar"),g=u("router-link"),k=u("PageNation"),C=u("PageFooter");return d(),l(h,null,[t("div",S,[r(w)]),t("div",L,[t("div",B,[t("div",Q,[t("div",M,[U,t("table",V,[t("thead",null,[t("tr",null,[z,A,t("th",null,[t("select",{name:"",id:"",class:"rounded border-2 btn btn-footer",style:{width:"132px",height:"48px"},ref:"type",onChange:a[0]||(a[0]=(...e)=>n.changeProductType&&n.changeProductType(...e))},H,544)])])]),t("tbody",null,[(d(!0),l(h,null,p(_.userProducts,e=>(d(),l("tr",{key:e.id},[t("td",J,[t("img",{src:e.imageUrl,alt:"商品圖片",style:{height:"240px",width:"240px","object-fit":"cover"},class:"mb-16"},null,8,K)]),t("td",R,[r(g,{to:`/userProductInfo/${e.id}`},{default:m(()=>[t("h5",W," 產品名稱："+c(e.title),1)]),_:2},1032,["to"]),t("p",X," 產品描述："+c(e.description),1)]),t("td",Y,[Z,t("p",tt,c(e.price),1),t("select",{class:"rounded border-2 mb-16",name:"num",style:{width:"100%"},ref_for:!0,ref:"qty",onChange:a[1]||(a[1]=(...i)=>n.changeQty&&n.changeQty(...i))},[(d(),l(h,null,p(10,i=>t("option",{value:i,key:i},c(i),9,et)),64))],544),t("button",{class:"btn btn-footer hover mb-16 color",style:{width:"100%"},onClick:i=>n.addToCart(e.id)},[ot,f(" 加入購物車 ")],8,st),t("button",{class:P(["btn btn-footer hover",s.favoriteList.indexOf(e.id)===-1?"btn-footer":"hovered"]),style:{width:"100%"},onClick:i=>s.handleFavorite(e.id)},[it,f("  加入追蹤 ")],10,at)])]))),128))])]),t("div",nt,[ct,t("select",lt,pt,512),ut]),(d(!0),l(h,null,p(_.userProducts,e=>(d(),l("div",{class:"d-md-none d-flex justify-content-between",key:e.id,onClick:i=>_.tempProduct=e},[t("div",gt,[t("img",{src:e.imageUrl,alt:"商品圖片",style:{height:"280px",width:"280px","object-fit":"cover"},class:"mb-16"},null,8,vt),t("div",yt,[r(g,{to:`/userProductInfo/${e.id}`,target:"_blank"},{default:m(()=>[t("h5",bt,"產品名稱："+c(e.title),1)]),_:2},1032,["to"]),t("p",mt," 特價："+c(e.price)+" 元 ",1),t("p",Pt,c(e.description),1),t("div",xt,[t("select",{class:"btn btn-footer fs-14",style:{width:"45%"},ref_for:!0,ref:"qty",onChange:a[2]||(a[2]=(...i)=>n.changeQty&&n.changeQty(...i))},[(d(),l(h,null,p(10,i=>t("option",{value:i,key:i},c(i),9,wt)),64))],544),t("button",{class:"btn btn-footer fs-14 hover",style:{width:"45%"},onClick:i=>n.addToCart(e.id)},[Ct,f(" 加入購物車 ")],8,kt)]),t("button",{class:P(["btn btn-footer fs-14 hover",s.favoriteList.indexOf(e.id)===-1?"btn-footer":"hovered"]),style:{width:"100%"},onClick:i=>s.handleFavorite(e.id)},[Nt,f(" 加入追蹤 ")],10,$t)])])],8,ft))),128))])])]),t("div",jt,[r(k,{class:"d-flex justify-content-center",pagination:_.pagination,"get-page-products":n.getProducts},null,8,["pagination","get-page-products"])])]),t("div",qt,[r(C)])],64)}const Mt=q(I,[["render",Ft],["__scopeId","data-v-99a4696f"]]);export{Mt as default};
//# sourceMappingURL=UserProductPhone-ClBAxwJb.js.map
