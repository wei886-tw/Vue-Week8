import{N as f}from"./NavBar-BWZKYkNG.js";import{_ as v,c,b as _,a as t,F as d,f as h,g as r,h as y,w as b,r as u,o as n,d as x}from"./index-BA_JWqmO.js";const k={components:{NavBar:f},props:["id"],data(){return{url:"https://vue3-course-api.hexschool.io",api_path:"wei123",product:{},qty:1}},methods:{getProduct(l){this.$http.get(`${this.url}/v2/api/${this.api_path}/product/${l}`).then(o=>{this.product=o.data.product}).catch(o=>{console.log(o.response.data.message)})},changeQty(){this.qty=parseInt(this.$refs.selectNum.value)},addToCart(l){this.$http.post(`${this.url}/v2/api/${this.api_path}/cart`,{data:{product_id:l,qty:this.qty}}).then(()=>{alert("成功加入購物車")}).catch(o=>{console.log(o)})},changeImg(l){this.product.imageUrl=this.product.imagesUrl[l]}},created(){console.log(this.$route.params.id)},mounted(){this.getProduct(this.id)}},w={class:"container-fluid"},C={class:"container py-32"},N={key:0,class:"row g-16 mb-48"},q={class:"col-lg-2 d-none d-lg-flex flex-lg-column"},U={class:"container pt-60"},I=["src","onClick"],B={class:"col-12 col-lg-6"},P=["src"],V={class:"col-12 d-lg-none d-sm-flex flex-sm-row"},j={class:"container pt-60"},Q=["src","onClick"],T={class:"col-12 col-lg-4"},F={class:"container d-flex flex-column justify-content-between pt-80"},D={class:"fs-24 fs-lg-48 fw-bold"},E={class:"mb-16"},L={class:"mb-16"},S={class:"container d-flex px-0 mb-16"},z={class:"fs-lg-20 text-danger me-36"},A={class:"fs-lg-20"},G={class:"container px-0 d-flex justify-content-between"},H=["value"],J={class:"row"},K=t("div",{class:"col-10"},[t("p",{class:"fs-lg-48"},"相似產品")],-1),M={class:"col-2"};function O(l,o,R,W,s,i){const p=u("nav-bar"),g=u("router-link");return n(),c(d,null,[_(p),t("div",w,[t("div",C,[s.product?(n(),c("div",N,[t("div",q,[t("div",U,[(n(!0),c(d,null,h(s.product.imagesUrl,(e,a)=>(n(),c("img",{src:e,alt:"多圖",style:{width:"100%",height:"120px"},onClick:m=>i.changeImg(a),key:e,class:"mb-36 border border-4"},null,8,I))),128))])]),t("div",B,[t("img",{src:s.product.imageUrl,alt:"首圖",style:{width:"100%",height:"100%","object-fit":"cover"}},null,8,P)]),t("div",V,[t("div",j,[(n(!0),c(d,null,h(s.product.imagesUrl,(e,a)=>(n(),c("img",{src:e,alt:"多圖",style:{width:"20%"},onClick:m=>i.changeImg(a),key:e,class:"me-36 border border-4"},null,8,Q))),128))])]),t("div",T,[t("div",F,[t("h1",D,r(s.product.title),1),t("p",E,r(s.product.description),1),t("p",L,r(s.product.content),1),t("div",S,[t("p",z," 特價： "+r(s.product.price*s.qty),1),t("span",A,[t("del",null,"原價： "+r(s.product.origin_price*s.qty),1)])]),t("div",G,[t("select",{name:"num",id:"num",style:{width:"40%"},ref:"selectNum",onChange:o[0]||(o[0]=(...e)=>i.changeQty&&i.changeQty(...e))},[(n(),c(d,null,h(10,e=>t("option",{value:e,key:e},r(e),9,H)),64))],544),t("button",{class:"btn btn-primary",style:{width:"40%"},onClick:o[1]||(o[1]=e=>i.addToCart(s.product.id))}," 加入購物車 ")])])])])):y("",!0),t("div",J,[K,t("div",M,[_(g,{to:"/userProduct",class:"fs-lg-24 text-dark"},{default:b(()=>[x("瀏覽更多")]),_:1})])])])])],64)}const Z=v(k,[["render",O]]);export{Z as default};
