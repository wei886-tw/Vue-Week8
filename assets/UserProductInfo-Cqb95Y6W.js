import{N as f}from"./NavBar-CoCU76q2.js";import{_ as v,c as n,b as p,a as t,F as d,g as h,t as r,h as y,w as x,r as _,o as l,d as b,p as w,f as k}from"./index-CMrZnJn1.js";const C={components:{NavBar:f},props:["id"],data(){return{url:"https://vue3-course-api.hexschool.io",api_path:"wei123",product:{},qty:1}},methods:{getProduct(o){this.$http.get(`${this.url}/v2/api/${this.api_path}/product/${o}`).then(c=>{this.product=c.data.product}).catch(c=>{console.log(c.response.data.message)})},changeQty(){this.qty=parseInt(this.$refs.selectNum.value)},addToCart(o){this.$http.post(`${this.url}/v2/api/${this.api_path}/cart`,{data:{product_id:o,qty:this.qty}}).then(()=>{alert("成功加入購物車")}).catch(c=>{console.log(c)})},changeImg(o){this.product.imageUrl=this.product.imagesUrl[o]}},created(){console.log(this.$route.params.id)},mounted(){this.getProduct(this.id)}},N=o=>(w("data-v-e4711fe2"),o=o(),k(),o),I={class:"container-fluid"},q={class:"container py-32"},B={key:0,class:"row g-16 mb-48"},U={class:"col-lg-2 d-none d-lg-flex flex-lg-column"},P={class:"container pt-60"},S=["src","onClick"],V={class:"col-12 col-lg-6"},j=["src"],Q={class:"col-12 d-lg-none d-sm-flex flex-sm-row"},T={class:"container pt-60"},F=["src","onClick"],D={class:"col-12 col-lg-4"},E={class:"container d-flex flex-column justify-content-between pt-80"},L={class:"fs-24 fs-lg-48 fw-bold"},z={class:"mb-16 new-line",style:{color:"#8e8e8e"}},A={class:"mb-16 new-line"},G={class:"container d-flex px-0 mb-16"},H={class:"fs-lg-20 text-danger me-36"},J={class:"fs-lg-20"},K={class:"container px-0 d-flex justify-content-between"},M=["value"],O={class:"row"},R=N(()=>t("div",{class:"col-10"},[t("p",{class:"fs-lg-48"},"相似產品")],-1)),W={class:"col-2"};function X(o,c,Y,Z,e,i){const u=_("NavBar"),g=_("router-link");return l(),n(d,null,[p(u),t("div",I,[t("div",q,[e.product?(l(),n("div",B,[t("div",U,[t("div",P,[(l(!0),n(d,null,h(e.product.imagesUrl,(s,a)=>(l(),n("img",{src:s,alt:"多圖",style:{width:"100%",height:"120px"},onClick:m=>i.changeImg(a),key:s,class:"mb-36 border border-4 border-hover"},null,8,S))),128))])]),t("div",V,[t("img",{src:e.product.imageUrl,alt:"首圖",style:{width:"100%",height:"100%","object-fit":"cover"}},null,8,j)]),t("div",Q,[t("div",T,[(l(!0),n(d,null,h(e.product.imagesUrl,(s,a)=>(l(),n("img",{src:s,alt:"多圖",style:{width:"20%"},onClick:m=>i.changeImg(a),key:s,class:"me-36 border border-4"},null,8,F))),128))])]),t("div",D,[t("div",E,[t("h1",L,r(e.product.title),1),t("p",z,r(e.product.description),1),t("p",A,r(e.product.content),1),t("div",G,[t("p",H," 特價： "+r(e.product.price*e.qty),1),t("span",J,[t("del",null,"原價： "+r(e.product.origin_price*e.qty),1)])]),t("div",K,[t("select",{name:"num",id:"num",style:{width:"40%"},ref:"selectNum",onChange:c[0]||(c[0]=(...s)=>i.changeQty&&i.changeQty(...s))},[(l(),n(d,null,h(10,s=>t("option",{value:s,key:s},r(s),9,M)),64))],544),t("button",{class:"btn btn-primary",style:{width:"40%"},onClick:c[1]||(c[1]=s=>i.addToCart(e.product.id))}," 加入購物車 ")])])])])):y("",!0),t("div",O,[R,t("div",W,[p(g,{to:"/userProduct",class:"fs-lg-24 text-dark"},{default:x(()=>[b("瀏覽更多")]),_:1})])])])])],64)}const et=v(C,[["render",X],["__scopeId","data-v-e4711fe2"]]);export{et as default};
