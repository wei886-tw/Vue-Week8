import{N as g}from"./NavBar-CrU3qgRw.js";import{_ as f,c as i,b as d,a as t,F as a,f as h,g as n,h as v,w as y,r as p,o as r,d as x}from"./index-D9ZRs92O.js";const b={components:{NavBar:g},props:["id"],data(){return{url:"https://vue3-course-api.hexschool.io",api_path:"wei123",product:{},qty:1}},methods:{getProduct(c){this.$http.get(`${this.url}/v2/api/${this.api_path}/product/${c}`).then(e=>{this.product=e.data.product}).catch(e=>{console.log(e.response.data.message)})},changeQty(){this.qty=parseInt(this.$refs.selectNum.value)},addToCart(c){this.$http.post(`${this.url}/v2/api/${this.api_path}/cart`,{data:{product_id:c,qty:this.qty}}).then(()=>{alert("成功加入購物車")}).catch(e=>{console.log(e)})},changeImg(c){this.product.imageUrl=this.product.imagesUrl[c]}},created(){console.log(this.$route.params.id)},mounted(){this.getProduct(this.id)}},w={class:"container-fluid"},k={class:"container py-32"},C={key:0,class:"row g-16 mb-48"},N={class:"col-2 d-flex flex-column"},q={class:"container pt-60"},U=["src","onClick"],B={class:"col-6"},I=["src"],P={class:"col-4"},V={class:"container d-flex flex-column justify-content-between pt-80"},j={class:"fs-24 fs-lg-48 fw-bold"},Q={class:"mb-16"},T={class:"mb-16"},F={class:"container d-flex px-0 mb-16"},D={class:"fs-lg-20 text-danger me-36"},E={class:"fs-lg-20"},L={class:"container px-0 d-flex justify-content-between"},S=["value"],z={class:"row"},A=t("div",{class:"col-10"},[t("p",{class:"fs-lg-48"},"相似產品")],-1),G={class:"col-2"};function H(c,e,J,K,s,l){const _=p("nav-bar"),u=p("router-link");return r(),i(a,null,[d(_),t("div",w,[t("div",k,[s.product?(r(),i("div",C,[t("div",N,[t("div",q,[(r(!0),i(a,null,h(s.product.imagesUrl,(o,m)=>(r(),i("img",{src:o,alt:"多圖",style:{width:"100%",height:"120px"},onClick:M=>l.changeImg(m),key:o,class:"mb-24"},null,8,U))),128))])]),t("div",B,[t("img",{src:s.product.imageUrl,alt:"首圖",style:{width:"100%",height:"100%","object-fit":"cover"}},null,8,I)]),t("div",P,[t("div",V,[t("h1",j,n(s.product.title),1),t("p",Q,n(s.product.description),1),t("p",T,n(s.product.content),1),t("div",F,[t("p",D," 特價： "+n(s.product.price*s.qty),1),t("span",E,[t("del",null,"原價： "+n(s.product.origin_price*s.qty),1)])]),t("div",L,[t("select",{name:"num",id:"num",style:{width:"40%"},ref:"selectNum",onChange:e[0]||(e[0]=(...o)=>l.changeQty&&l.changeQty(...o))},[(r(),i(a,null,h(10,o=>t("option",{value:o,key:o},n(o),9,S)),64))],544),t("button",{class:"btn btn-primary",style:{width:"40%"},onClick:e[1]||(e[1]=o=>l.addToCart(s.product.id))}," 加入購物車 ")])])])])):v("",!0),t("div",z,[A,t("div",G,[d(u,{to:"/userProduct",class:"fs-lg-24 text-dark"},{default:y(()=>[x("瀏覽更多")]),_:1})])])])])],64)}const W=f(b,[["render",H]]);export{W as default};
